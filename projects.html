<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 5 Projects | IDEA R&amp;A Manual</title>
<meta name="author" content="Chris Haid, Edison Coronado, Mishan Jensen, Maura Carter, Steven Macapagal, Aline Orr, Ilissa Madrigal, Marlena Coco">
<meta name="description" content="Some significant applications are demonstrated in this chapter.  5.1 Version control with GitHub All analysis projects need to be saved via Git (on your local computer) and pushed to GitHub. Doing...">
<meta name="generator" content="bookdown 0.38 with bs4_book()">
<meta property="og:title" content="Chapter 5 Projects | IDEA R&amp;A Manual">
<meta property="og:type" content="book">
<meta property="og:url" content="https://idea-analytics.github.io/r_and_a_manual/projects.html">
<meta property="og:description" content="Some significant applications are demonstrated in this chapter.  5.1 Version control with GitHub All analysis projects need to be saved via Git (on your local computer) and pushed to GitHub. Doing...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 5 Projects | IDEA R&amp;A Manual">
<meta name="twitter:description" content="Some significant applications are demonstrated in this chapter.  5.1 Version control with GitHub All analysis projects need to be saved via Git (on your local computer) and pushed to GitHub. Doing...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.6.1/transition.js"></script><script src="libs/bs3compat-0.6.1/tabs.js"></script><script src="libs/bs3compat-0.6.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="libs/viz-1.8.2/viz.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/grViz-binding-1.0.11/grViz.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">IDEA R&amp;A Manual</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> A little about this manual</a></li>
<li><a class="" href="who.html"><span class="header-section-number">2</span> Contributors</a></li>
<li><a class="" href="the-data-warehouse-and-how-to-access-it.html"><span class="header-section-number">3</span> The Data Warehouse and How to Access It</a></li>
<li><a class="" href="key-tables-measures-and-metrics.html"><span class="header-section-number">4</span> Key Tables, Measures, and Metrics</a></li>
<li><a class="active" href="projects.html"><span class="header-section-number">5</span> Projects</a></li>
<li><a class="" href="specific-projects.html"><span class="header-section-number">6</span> Specific Projects</a></li>
<li><a class="" href="evaluation-projects.html"><span class="header-section-number">7</span> Evaluation Projects</a></li>
<li><a class="" href="coding-standards.html"><span class="header-section-number">8</span> Coding Standards</a></li>
<li><a class="" href="visualization-standards.html"><span class="header-section-number">9</span> Visualization Standards</a></li>
<li><a class="" href="models-and-methods.html"><span class="header-section-number">10</span> Models and Methods</a></li>
<li><a class="" href="geospatial-methods-and-gis.html"><span class="header-section-number">11</span> Geospatial Methods and GIS</a></li>
<li><a class="" href="surveys.html"><span class="header-section-number">12</span> Surveys</a></li>
<li><a class="" href="tips-and-tricks.html"><span class="header-section-number">13</span> Tips and Tricks</a></li>
<li><a class="" href="platforms.html"><span class="header-section-number">14</span> Platforms</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/idea-analytics/r_and_a_manual">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="projects" class="section level1" number="5">
<h1>
<span class="header-section-number">5</span> Projects<a class="anchor" aria-label="anchor" href="#projects"><i class="fas fa-link"></i></a>
</h1>
<p>Some <em>significant</em> applications are demonstrated in this chapter.</p>
<div id="section-github" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> Version control with GitHub<a class="anchor" aria-label="anchor" href="#section-github"><i class="fas fa-link"></i></a>
</h2>
<p>All analysis projects need to be saved via Git (on your local computer) and pushed to GitHub. Doing so has several benefits to both you, to your future self, and to your teammates:</p>
<ul>
<li>Since Git is a version control system, you get to save and track changes in your work (data, source code, reports, PowerPoint decks, Shiny dashboards) incrementally.</li>
<li>Incremental saving means you can recover from any accidental plunders. It’s like Track Changes in Word, but for multiple files and folders. Spill a Diet Coke on your laptop in the middle of a big analysis? No big deal (if you’ve been pushing commits to GitHub, it’ll all be there!)</li>
<li>Collaboration is much more structured, with powerful tools for asynchronous work and managing versions.</li>
<li>Referencing and reviewing code, tracking issues, and sharing what you’ve done is seamless, which means …</li>
<li>Your work will be reproducible: anyone from R&amp;A can pull your repo from GitHub, run your analyses, add to or edit what you’ve done, and share those changes back in a way that is communicative and documented.</li>
<li>setting up web documentation for any R packages you build becomes seamless.</li>
</ul>
<p>But enough on the <strong>why</strong> let’s get to <strong>how</strong> (if you do want to know more on the why, <a href="https://doi.org/10.7287/peerj.preprints.3159v2">check out this excellent article by Jenny Bryan</a>)</p>
<div id="getting-started-with-git-github-and-rstudio" class="section level3" number="5.1.1">
<h3>
<span class="header-section-number">5.1.1</span> Getting Started with Git, GitHub, and RStudio<a class="anchor" aria-label="anchor" href="#getting-started-with-git-github-and-rstudio"><i class="fas fa-link"></i></a>
</h3>
<p>Here’s a quick overview of what you’ll need to do, with details to follow:</p>
<ul>
<li><p>Dedicate a directory (a.k.a. “folder”) to it.</p></li>
<li><p>Make it an RStudio Project.</p></li>
<li><p>Make it a Git repository.</p></li>
<li><p>Go about your usual business. But instead of only saving individual files, periodically you make a commit, which takes a multi-file snapshot of the entire project.</p></li>
<li>
<p>Push commits to GitHub periodically.</p>
<ul>
<li>This is like sharing a document with colleagues on OneDrive or DropBox or sending it out as an email attachment.</li>
</ul>
</li>
</ul>
<div id="first-steps" class="section level4" number="5.1.1.1">
<h4>
<span class="header-section-number">5.1.1.1</span> First steps<a class="anchor" aria-label="anchor" href="#first-steps"><i class="fas fa-link"></i></a>
</h4>
<p><strong>These steps are borrowed with some light editing from <a href="https://happygitwithr.com/">Happy Git and GitHub for the useR</a> by Jenny Bryan.</strong></p>
<ol style="list-style-type: decimal">
<li><a href="https://happygitwithr.com/github-acct.html#github-acct">Register for GitHub account.</a></li>
<li><a href="https://happygitwithr.com/install-r-rstudio.html#install-r-rstudio">Install or update R and RStudio</a></li>
<li><a href="https://happygitwithr.com/install-git.html#install-git">Install Git</a></li>
<li>Those on Windows will want <a href="https://happygitwithr.com/shell.html#windows-shell-hell">to do these steps as well</a>
</li>
<li><a href="https://happygitwithr.com/hello-git.html#hello-git">Introduce yourself to Git.</a></li>
<li><a href="https://happygitwithr.com/push-pull-github.html#push-pull-github">Prove local Git can talk to GitHub.</a></li>
<li>
<a href="https://happygitwithr.com/credential-caching.html#credential-caching">Cache your username and password</a> so you don’t need to authenticate yourself to GitHub interactively <em>ad nauseum</em>.</li>
<li>Create and save a <a href="https://happygitwithr.com/credential-caching.html#credential-caching">GitHub Personal Access Token (PAT)</a>.</li>
<li>
<a href="https://happygitwithr.com/rstudio-git-github.html#rstudio-git-github">Prove RStudio can find local Git and, therefore, can talk to GitHub</a>.</li>
</ol>
</div>
</div>
<div id="feature-branch-workflow" class="section level3" number="5.1.2">
<h3>
<span class="header-section-number">5.1.2</span> Feature Branch Workflow<a class="anchor" aria-label="anchor" href="#feature-branch-workflow"><i class="fas fa-link"></i></a>
</h3>
<p>There are <a href="https://www.atlassian.com/git/tutorials/comparing-workflows">many workflows using Git and remote repositories like GitHub</a>. All of them boil down to the following steps:</p>
<ol style="list-style-type: decimal">
<li>Pull or fetch or clone a repo on Github to your local machine. If you are starting a new project, then you’ll need to create a new repo on Github (but you can also start one on your machine). <strong>This is usually called the main (formerly master) branch.</strong>
</li>
<li>Create a new branch that you will work on.<br>
</li>
<li>Do some analysis, coding, writing.</li>
<li>Periodically save a snapshot of your entire project (all the files and folders, except those that you explicitly ignore). This is called *committing changes**.</li>
<li>Every once in while <strong>push your commits</strong> to the remote repo. Congrats! You’ve just backed up your project remotely and made it easy to share.</li>
<li>
<strong>Merge</strong> your new analysis and code back into the main branch. This is usually initiated by something called a <em>pull request</em> (which is admittedly a little confusing).</li>
</ol>
<p>The specific workflow we use on IDEA’s R&amp;A team is the <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/feature-branch-workflow">Feature Branch workflow</a>, which has the benefit of being both simple, while minimizing merge conflicts. The core idea behind the Feature Branch Workflow is that all feature development should take place in a dedicated branch instead of the main branch. This encapsulation makes it easy for multiple analysts to work on a particular analysis without disturbing the main codebase. It also means the main branch will never contain broken code. Moreover, it means you’ll be more likely to get a second or third set of eyes on our analysis. This makes your work more transparent, helps enforce coding standards, and helps spread all the cool new techniques you’ve implemented in your analysis.</p>
<p>So what does this look like? Well, here’s a picture of the feature branch workflow in use for this manual:</p>
<p><a href="https://github.com/idea-analytics/r_and_a_manual/network"><img src="img/feature_branch_example.png" title="Feature Branch Workflow Network Chart for this manual" alt="This image shows the network diagram from Github and is an illustration of the feature branch workflow."></a></p>
<p>This picture shows the development of this manual over time (from left to right) <a href="https://github.com/idea-analytics/r_and_a_manual/network">as rendered by GitHub’s network diagram</a>: it includes new branches being created, commits being made and merges back into the main branch. The black line is the main branch and includes the most up-to-date, “official” version of this book. The green and blue lines are feature branches, which diverge from the main when you checkout a new branch. The dots represent commits. Colored lines returning to the main branch indicate a merge: the new code is now part of of the main branch. You might be wondering what the unmerged yellow line labeld <code>gh-page</code> represents. That is a special branch that is used by <a href="https://github.blog/2019-08-08-github-actions-now-supports-ci-cd/">GitHub Actions</a> that uses the concept of continuous integration/continuous delivery to build the website that hosts this manual. You don’t need to worry about that one; it’s simply used to build out the site magically.</p>
</div>
<div id="example-workflow-with-this-manual-or-getting-your-feet-wet" class="section level3" number="5.1.3">
<h3>
<span class="header-section-number">5.1.3</span> Example workflow with this manual, or getting your feet wet<a class="anchor" aria-label="anchor" href="#example-workflow-with-this-manual-or-getting-your-feet-wet"><i class="fas fa-link"></i></a>
</h3>
<p>This section is going to walk you through how to use git/github by updating this manual. You’ll (i) clone the GitHub repo locally on your laptop, (ii) create a feature branch, (iii) make some changes to this documentation, save those changes, and then commit those changes git (i.e., locally take a snapshot), (iv) push those changes (including all of your commits) up to the GitHub repo, (v) initiate a pull request (i.e., ask to merge your branch into the main branch), and finally (vi) merge your changes into the master branch.</p>
<p>But first things first:</p>
<ol style="list-style-type: decimal">
<li>Verify you did <a href="projects.html#first-steps">the initial set-up steps above</a>
</li>
<li>Get your bio ready.</li>
</ol>
<p>**Note that throughout the steps below I’ll show you how to each step. Ok. You ready? Great! Here we go.</p>
<div id="get-the-r_and_a_manual-repository-url" class="section level4" number="5.1.3.1">
<h4>
<span class="header-section-number">5.1.3.1</span> Get the <a href="https://github.com/idea-analytics/r_and_a_manual/">R_and_A_Manual</a> repository URL<a class="anchor" aria-label="anchor" href="#get-the-r_and_a_manual-repository-url"><i class="fas fa-link"></i></a>
</h4>
<ol style="list-style-type: decimal">
<li><p>Go to <a href="https://github.com/idea-analytics/r_and_a_manual/">R_and_A_Manual</a> repo in your browser.</p></li>
<li>
<p>On the main page for the repo click the green <em>Code</em> button, Click on HTTPS (the default), and click the clipboard to copy the repo’s URL:</p>
<div class="inline-figure"><img src="img/clone_github_repo.png" title="Getting the clone URL from github"></div>
</li>
</ol>
</div>
<div id="clone-the-repo" class="section level4 tabset" number="5.1.3.2">
<h4>
<span class="header-section-number">5.1.3.2</span> Clone the repo<a class="anchor" aria-label="anchor" href="#clone-the-repo"><i class="fas fa-link"></i></a>
</h4>
<p>Now you’ll pull the remote repo from GitHub onto you computer. You’ll want to think about where you want to save this. For example, I save data analysis projects in separate folders under a <code>Data_Analysis/</code> folder. I save the manual just on my OneDrive.</p>
<div id="command-line" class="section level5" number="5.1.3.2.1">
<h5>
<span class="header-section-number">5.1.3.2.1</span> Command line<a class="anchor" aria-label="anchor" href="#command-line"><i class="fas fa-link"></i></a>
</h5>
<p>Here I’m saving this to temporary space, by navigating to <code>~/tmp/~</code> and then cloning the data:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="projects.html#cb28-1" tabindex="-1"></a><span class="bu">cd</span> ~/tmp/</span>
<span id="cb28-2"><a href="projects.html#cb28-2" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/idea-analytics/r_and_a_manual.git</span></code></pre></div>
<p>This will pull down all the content of the repo: files, folders, all commits, all branches. Really the whole kit and kaboodle.</p>
</div>
<div id="rstudio" class="section level5" number="5.1.3.2.2">
<h5>
<span class="header-section-number">5.1.3.2.2</span> RStudio<a class="anchor" aria-label="anchor" href="#rstudio"><i class="fas fa-link"></i></a>
</h5>
<p>Here’s how you do it from RStudio:</p>
<ol style="list-style-type: decimal">
<li>In RStudio, start a new Project: <strong>File &gt; New Project &gt; Version Control &gt; Git</strong>, or click on the project icon in the upper right-hand corner of the IDE and select <strong>New Project…</strong>. <img src="img/new_project_selection.png" title="Creating a new project">
</li>
<li>In the “repository URL” paste the URL of your new GitHub repository. That is: <a href="https://github.com/idea-analytics/r_and_a_manual.git" class="uri">https://github.com/idea-analytics/r_and_a_manual.git</a>
</li>
<li>Be intentional about where you create this project.</li>
<li>You should click “Open in new session”. <img src="img/new_session_checkbox.png" title="Making sure you create a new session">
</li>
<li>Click <strong>Create Project</strong> to create a new directory, which will be all of these things:</li>
</ol>
<ul>
<li>a directory or “folder” on your computer</li>
<li>a Git repository, linked to the remote GitHub repository</li>
<li>an RStudio Project</li>
</ul>
<p>Cool. You should now have the R&amp;A Manual files on repo history on your computer!</p>
</div>
</div>
<div id="check-out-a-branch" class="section level4" number="5.1.3.3">
<h4>
<span class="header-section-number">5.1.3.3</span> Check out a branch<a class="anchor" aria-label="anchor" href="#check-out-a-branch"><i class="fas fa-link"></i></a>
</h4>
<p><em>Before you start doing anything</em> you should check out a branch. A branch is like your own, temporary, disposable workspace. When you checkout a branch you create a new copy of the repo and changes you make only happen on the branch. When you’re happy with the changes and are ready to share them you’ll create a pull request. But we’ll get to that below.</p>
<div id="command-line-1" class="section level5" number="5.1.3.3.1">
<h5>
<span class="header-section-number">5.1.3.3.1</span> Command line<a class="anchor" aria-label="anchor" href="#command-line-1"><i class="fas fa-link"></i></a>
</h5>
<p>It’s pretty straightforward. You create the branch, by giving a short but meaningful name, and then check it out.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="projects.html#cb29-1" tabindex="-1"></a><span class="fu">git</span> branch update-bio-cjh</span>
<span id="cb29-2"><a href="projects.html#cb29-2" tabindex="-1"></a><span class="fu">git</span> checkout update-bio-cjh</span></code></pre></div>
<p>Or you can do both of those moves in one line by using <code>git checkout</code> with the <code>-b</code> flag:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="projects.html#cb30-1" tabindex="-1"></a><span class="fu">git</span> checkout <span class="at">-b</span> update-bio-cjh</span></code></pre></div>
</div>
<div id="rstudio-1" class="section level5" number="5.1.3.3.2">
<h5>
<span class="header-section-number">5.1.3.3.2</span> RStudio<a class="anchor" aria-label="anchor" href="#rstudio-1"><i class="fas fa-link"></i></a>
</h5>
<ol style="list-style-type: decimal">
<li>Click on the <em>Git</em> panel (usually in the upper right on the standard RStudio layout, but YMMV if you’ve customized your layouts).</li>
<li>Click on the purple “branch” icon (it kinda looks like a piece of a flowchart). <img src="img/rstduio_create_branch.png" title="Creating a branch in RStudio">
</li>
<li>Give a short but meaningful name (something like, <code>update-bio-cjh</code>). Make sure the <strong>Sync branch with remote</strong> checkbox is selected; this will save you a step later when you push you changes up to the repo.</li>
</ol>
</div>
</div>
<div id="making-changes-and-saving-them" class="section level4" number="5.1.3.4">
<h4>
<span class="header-section-number">5.1.3.4</span> Making changes and saving them<a class="anchor" aria-label="anchor" href="#making-changes-and-saving-them"><i class="fas fa-link"></i></a>
</h4>
<p>You are now on a new branch and ready to make some changes. Go ahead and open <code>02-Who_We_Are.Rmd</code> file and add your name as a section, update your bio and save it, as you usually would.</p>
<p>Now you’ll want to commit those changes, which takes a snapshot of the current state on the branch you are working on.</p>
</div>
<div id="command-line-2" class="section level4" number="5.1.3.5">
<h4>
<span class="header-section-number">5.1.3.5</span> Command line<a class="anchor" aria-label="anchor" href="#command-line-2"><i class="fas fa-link"></i></a>
</h4>
<p>After saving you’ll run the <code>git commit</code> command with the <code>-a</code> (adds all changes) and <code>-m</code> (add commit message) flag with a short description of what you did.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb31-1"><a href="projects.html#cb31-1" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-a</span> <span class="at">-m</span> <span class="st">"Updated Chris's bio"</span></span></code></pre></div>
<p>You should do this often. After awhile you’ll want to push your changes up to GitHub (frequently, but not as often as commits):</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="projects.html#cb32-1" tabindex="-1"></a><span class="fu">git</span> push</span></code></pre></div>
<p>You’ve likely not yet defined where this remote branch should go, but Git will give you a helpful error which gives you the command for syncing your local branch with a new remote branch:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb33-1"><a href="projects.html#cb33-1" tabindex="-1"></a><span class="ex">fatal:</span> The current branch update-bio-cjh has no upstream branch.</span>
<span id="cb33-2"><a href="projects.html#cb33-2" tabindex="-1"></a><span class="ex">To</span> push the current branch and set the remote as upstream, use</span>
<span id="cb33-3"><a href="projects.html#cb33-3" tabindex="-1"></a></span>
<span id="cb33-4"><a href="projects.html#cb33-4" tabindex="-1"></a>    <span class="fu">git</span> push <span class="at">--set-upstream</span> origin update-bio-cjh</span></code></pre></div>
<p>Go ahead and copy and run that command.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb34-1"><a href="projects.html#cb34-1" tabindex="-1"></a><span class="fu">git</span> push <span class="at">--set-upstream</span> origin update-bio-cjh</span></code></pre></div>
<p>After that you can just use <code>git push</code> and your branch changes will be saved remotely.</p>
</div>
<div id="maintaining-large-files" class="section level4" number="5.1.3.6">
<h4>
<span class="header-section-number">5.1.3.6</span> Maintaining large files<a class="anchor" aria-label="anchor" href="#maintaining-large-files"><i class="fas fa-link"></i></a>
</h4>
<p>If you have a file that is over 100 MB in size (e.g., a PowerBI dashboard), GitHub will block your commit (or at least send you a warning). There are two ways of approaching this issue:</p>
<ol style="list-style-type: decimal">
<li>Use the large file storage (LFS) extension to commit the file.</li>
<li>Add the file to .gitignore so the file is not committed.</li>
</ol>
<div id="large-file-storage-lfs" class="section level5" number="5.1.3.6.1">
<h5>
<span class="header-section-number">5.1.3.6.1</span> Large file storage (LFS)<a class="anchor" aria-label="anchor" href="#large-file-storage-lfs"><i class="fas fa-link"></i></a>
</h5>
<p>Scenario: Suppose you have a PowerBI file <code>Persistence_Dashboard.pbix</code> that is 137 MB in size, so it cannot be handled through a normal Git workflow. You will need to download the LFS extension from this site: <a href="https://git-lfs.github.com/" class="uri">https://git-lfs.github.com/</a>. Once you download, then you will follow these steps:</p>
<ol style="list-style-type: decimal">
<li>Open the Git command line. (I have not found a solution through RStudio or GitHub Desktop).</li>
<li>Switch to the repo and branch that has the large file.</li>
<li>Install the LFS extension in the correct repo and branch using</li>
</ol>
<div class="sourceCode" id="cb35"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb35-1"><a href="projects.html#cb35-1" tabindex="-1"></a><span class="fu">git</span> lfs install</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Track the file extension (in our scenario, .pbix), using</li>
</ol>
<div class="sourceCode" id="cb36"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb36-1"><a href="projects.html#cb36-1" tabindex="-1"></a><span class="fu">git</span> lfs track <span class="st">"*.pbix"</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>Track .gitattributes</li>
</ol>
<div class="sourceCode" id="cb37"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb37-1"><a href="projects.html#cb37-1" tabindex="-1"></a><span class="fu">git</span> add .gitattributes</span></code></pre></div>
<p>N.B. Do not complete steps 3, 4, and 5 until after you have switched to the correct repo and branch.
6. Commit the file and push normally.</p>
<p>When you commit, you will see a message indicating the LFS extension was used on that file.</p>
</div>
<div id="using-.gitignore" class="section level5" number="5.1.3.6.2">
<h5>
<span class="header-section-number">5.1.3.6.2</span> Using <code>.gitignore</code><a class="anchor" aria-label="anchor" href="#using-.gitignore"><i class="fas fa-link"></i></a>
</h5>
<p>Alternatively, you could choose not to commit the file and just keep the large file locally. (This is a good option if the file can be generated through code, like a <code>.csv</code> output). You will follow these steps:</p>
<ol style="list-style-type: decimal">
<li>If the file does not already exist, create a text file called <code>.gitignore</code> in your repo.</li>
<li>Add the name of the file you wish to ignore in the <code>.gitignore</code> file (e.g., <code>.Rdata</code> is ignored when using ProjectTemplate).</li>
<li>Save <code>.gitignore</code> and commit.</li>
</ol>
</div>
</div>
<div id="rstudio-2" class="section level4" number="5.1.3.7">
<h4>
<span class="header-section-number">5.1.3.7</span> RStudio<a class="anchor" aria-label="anchor" href="#rstudio-2"><i class="fas fa-link"></i></a>
</h4>
<ol style="list-style-type: decimal">
<li>In your Git panel you see changed (or new) files show up. You’ll want to select the check box for any file that’s been modified (indicated by an M) or that needs to be added (indicated by an A). Doing so readies the file to be updated in the commit: <img src="img/rstudio_git_staged.png">
</li>
<li>Click the commit button and new dialog box will open, which will show any changes you’ve made in any file. Select the check box for staged, if isn’t already selected, add a commit message and click <strong>Commit</strong> <img src="img/rstudio_commit.png">
</li>
<li>When you’re ready to save those to the repo, simply press the <em>Push</em> button.</li>
</ol>
</div>
<div id="merging-changes" class="section level4" number="5.1.3.8">
<h4>
<span class="header-section-number">5.1.3.8</span> Merging changes<a class="anchor" aria-label="anchor" href="#merging-changes"><i class="fas fa-link"></i></a>
</h4>
<p>Merging changes in your feature branch with the main branch requires you go to GitHub and to a <em>pull request</em>. A pull request is essentially asking the main branch to “pull” in your changes and is technically known as a merge. So here are the steps:</p>
<ol style="list-style-type: decimal">
<li>Go to the repo (<a href="https://github.com/idea-analytics/r_and_a_manual" class="uri">https://github.com/idea-analytics/r_and_a_manual</a>).<br>
</li>
<li>You may see an info box suggesting you can merge your branch. If so, click on the <strong>Compare &amp; pull request</strong> button. If not select your branch and click the Pull Request icon.</li>
<li>If you are able to merge (you’ll know) click the <strong>Create pull request</strong> button.</li>
<li>Ask someone to review your request (ideally)</li>
<li>Click the <strong>Merge pull request button</strong> and confirm the merge.</li>
<li>If you are done with your feature branch feel free to delete it.</li>
</ol>
<p>You’re done!</p>
<div class="gotcha">
<p>You’ll want to be careful here if you are working with others. If you pulled your main branch down awhile ago there is a risk that the main branch on your laptop is not up-to-date with the main branch on Github (because others have merged changes there).</p>
<p>The best remedy is to checkout and pull main—which gets up to date—and then checkout your branch and run <code>git merge main</code>. You may have to resolve conflicts.</p>
</div>
</div>
</div>
</div>
<div id="project-process" class="section level2" number="5.2">
<h2>
<span class="header-section-number">5.2</span> Project Process<a class="anchor" aria-label="anchor" href="#project-process"><i class="fas fa-link"></i></a>
</h2>
<p>When we are working on a project, we need to document not only our analytical work, but also our organization and management. There are multiple tools we use to plan, track, modify, and evaluate our progress among our team and with our stakeholders, and as we evolve, we certainly can add to our best practices for each of these tools. Namely, we will discuss how to set up Wrike projects, set up a GRPI/RASI, use operating mechanisms, and other important project structures.</p>
<div class="tip">
<p>The key point is that we backwards plan from our final product. The project management tools document these processes in greater detail, in the same way that a teacher might backwards plan from the assessment to the lesson, or a leader might document and follow up with the next steps from a meeting.</p>
</div>
<div class="inline-figure">Below is an overview of the backwards planning process. <img src="img/project_workflow_diagram.png">
</div>
<div id="general-project-management" class="section level3" number="5.2.1">
<h3>
<span class="header-section-number">5.2.1</span> General project management<a class="anchor" aria-label="anchor" href="#general-project-management"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>When you have a project established, you still need to document your progress as you move forward.</li>
</ol>
<ul>
<li>During a project meeting, jot down key points and next steps as a comment, or create new tasks.</li>
<li>Add comments after relevant tasks are completed.</li>
<li>Include links to any completed products.</li>
</ul>
<div class="hat">
<p>Are you taking notes in a notebook, on a OneNote, or in a Teams chat? Capture the links to all your relevant documents, GitHub repos, notes, pictures, etc. in a relevant task, as a comment, or in a description in a Wrike project! You’ll be able to find things you forgot about months later.</p>
</div>
<ol start="2" style="list-style-type: decimal">
<li>If you used a GRPI/RASI for the project, be sure to update your stakeholders, as well.</li>
</ol>
<ul>
<li>Include a link to the GRPI/RASI in the Wrike project.</li>
<li>When you update Wrike, update the GRPI/RASI.</li>
<li>Your GRPI/RASI should succinctly summarize what you are doing in the project.</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Things might change in your project. Each week, ask yourself:</li>
</ol>
<ul>
<li>Did the scope of the work change?</li>
<li>Did the timeline of the project change?</li>
<li>Did I realize something else needed to be completed?, and so on</li>
</ul>
<p>If you need to modify the project, carve out time to do so. Evaluating your progress will help keep yourself on track, and will alert others that the project may take longer or may end differently than originally planned. And of course, <strong>document it!</strong></p>
</div>
<div id="wrike-projects-and-requests" class="section level3" number="5.2.2">
<h3>
<span class="header-section-number">5.2.2</span> Wrike projects and requests<a class="anchor" aria-label="anchor" href="#wrike-projects-and-requests"><i class="fas fa-link"></i></a>
</h3>
<p>We use <a href="https://login.wrike.com/login/">Wrike</a> as our main project management system to track the workflow for our team. All <a href="https://ideapublicschoolsorg.sharepoint.com/RA/SitePages/Information-Requests.aspx">information requests</a> generate a Wrike task, which will be accepted or rejected from our work. Once we know who will be assigned to the request, we can use Wrike in the following ways to organize the work.</p>
<div id="onboarding-and-setup" class="section level4" number="5.2.2.1">
<h4>
<span class="header-section-number">5.2.2.1</span> Onboarding and setup<a class="anchor" aria-label="anchor" href="#onboarding-and-setup"><i class="fas fa-link"></i></a>
</h4>
<ol style="list-style-type: decimal">
<li><p>During tactical or throughout the week, review any new Wrike requests.</p></li>
<li><p>Determine if the request will be accepted, and if so, determine who will be assigned to the task.</p></li>
<li><p>Evaluate the scope of the request with your team AND the requester.</p></li>
</ol>
<ul>
<li>Vet the request thoroughly and ask clarifying questions with the requester.</li>
<li>If this is an ad-hoc request, keep the request in the original queue and set up tasks (see next section).</li>
<li>If this is a medium- to long-term request, then set up a project and related tasks into an appropriate folder:
<ul>
<li>Evaluation Projects</li>
<li>Impact Analyses</li>
<li>An appropriate project folder</li>
</ul>
</li>
<li>
<strong>N.B.</strong> For medium- to long-term requests, you should consider establishing a GRPI and a RASI for your stakeholders, so that you have a common document for the scope and progress of the work.</li>
</ul>
</div>
<div id="goal-setting-and-deadlines" class="section level4" number="5.2.2.2">
<h4>
<span class="header-section-number">5.2.2.2</span> Goal setting and deadlines<a class="anchor" aria-label="anchor" href="#goal-setting-and-deadlines"><i class="fas fa-link"></i></a>
</h4>
<ol style="list-style-type: decimal">
<li>Once your Wrike project or task has a page, then you should start backwards planning from the deliverable. Ask yourself:</li>
</ol>
<ul>
<li>What is the <em>goal</em> of the project? (document it!)</li>
<li>What is the <em>deliverable</em> for the project? (document it!)</li>
<li>When is that deliverable due? (document it!)</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Assign the goal and the deliverable to the task or project.</li>
</ol>
<ul>
<li>You can create a task for the deliverable and assign a due date.</li>
<li>You can use the project/task description, leave a comment, or create a task for the goal.</li>
<li>Ex. “Deliver slide deck and final report to Dolores” could be the deliverable, and “2021-12-17” could be the due date.</li>
</ul>
</div>
<div id="defining-tasks-and-dependencies" class="section level4" number="5.2.2.3">
<h4>
<span class="header-section-number">5.2.2.3</span> Defining tasks and dependencies<a class="anchor" aria-label="anchor" href="#defining-tasks-and-dependencies"><i class="fas fa-link"></i></a>
</h4>
<ol style="list-style-type: decimal">
<li>Now, you need to accomplish those goals and produce the deliverable. Ask yourself:</li>
</ol>
<ul>
<li>What steps do I need to produce the deliverable?</li>
<li>What is the order in which I need to do those steps?</li>
<li>Do certain steps require other tasks to be completed first?</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>For each step you identified in part (1), create a new task.</li>
</ol>
<ul>
<li>Tasks are specific, bite-sized steps.</li>
<li>Ex. “Make time series plot of AP Spanish Language scores at Mission CP” could be the task</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li><p>Assign tasks created in step (2) to the backlog.</p></li>
<li><p>Create dependencies for relevant steps.</p></li>
</ol>
<ul>
<li>Link the <em>predecessors</em> (i.e., the steps before) and the <em>successors</em> (i.e., the steps after) to the task/subtask.</li>
</ul>
<ol start="5" style="list-style-type: decimal">
<li>Establish due dates for ALL steps, including dependencies, etc.</li>
</ol>
</div>
<div id="kanban-workflow" class="section level4" number="5.2.2.4">
<h4>
<span class="header-section-number">5.2.2.4</span> Kanban workflow<a class="anchor" aria-label="anchor" href="#kanban-workflow"><i class="fas fa-link"></i></a>
</h4>
<p>Kanban (a Japanese word for <em>visual signal</em>) is a workflow for visualizing your progress. We track our project tasks using a <strong>Kanban board</strong> on Wrike. Tasks can move through a workflow in the following order:</p>
<p><span class="math inline">\(\textrm{Backlog} \rightarrow \textrm{Work in Progress} \rightarrow \textrm{Work in Review} \rightarrow \textrm{Completed}\)</span></p>
<div class="float">
<img src="img/workflow-backlog-board.png" title="The Kanban backlog board categories are Backlog, Work in Progress, Work in Review, and Completed." width="600" alt="The Kanban backlog board"><div class="figcaption">The Kanban backlog board</div>
</div>
<p>Each stage can be roughly defined as the following:</p>
<ul>
<li>
<strong>Backlog</strong>: This category may hold tasks for brainstorming or future development. None of these tasks have been started.</li>
<li>
<strong>Work in Progress</strong>: These tasks have been pulled from the Backlog and have been started. They are not yet complete.</li>
<li>
<strong>Work in Review</strong>: These tasks have reached a critical benchmark in development and need final feedback or revision. They are not yet approved for completion.</li>
<li>
<strong>Completed</strong>: These tasks have been completed.</li>
</ul>
<p>To use a Kanban task workflow for a project:</p>
<ol style="list-style-type: decimal">
<li>Open the context menu for a project (right-click).</li>
<li>Change default workflow -&gt; For tasks -&gt; R&amp;A Kanban Task Board Workflow.</li>
</ol>
<div class="float">
<img src="img/workflow-kanban.png" title="Open the context menu, change default workflow, for tasks, R&amp;A Kanban Task Board Workflow" width="600" alt="Changing a project to a Kanban workflow"><div class="figcaption">Changing a project to a Kanban workflow</div>
</div>
<p>When you choose the “Board” view for the project, you should see the Kanban board with the appropriate categories. Task cards should be created and moved as you progress through the project.</p>
</div>
</div>
<div id="grpi-rasi" class="section level3" number="5.2.3">
<h3>
<span class="header-section-number">5.2.3</span> GRPI and RASI<a class="anchor" aria-label="anchor" href="#grpi-rasi"><i class="fas fa-link"></i></a>
</h3>
<p>While we use Wrike internally to manage a project, external teams cannot access our workspace. Therefore, we must use different tools to track goals and roles for cross-functional projects.</p>
<ul>
<li>A <strong>GRPI</strong> is a tool governing the <strong>G</strong>oals, <strong>R</strong>esponsibilities, <strong>P</strong>rocesses, and <strong>I</strong>nterpersonal norms of a project. This describes the purpose of the group working on the project.</li>
<li>A <strong>RASI</strong> is a tool governing the roles of each group member. Each task should have a person who is: <strong>R</strong>esponsible, <strong>A</strong>pproving, <strong>S</strong>upporting, and <strong>I</strong>nformed.</li>
</ul>
<p>The GRPI and RASI should be shared between relevant teams and stakeholders. These documents serve as the contract and tracking system for the project. Note that while these tools are often paired together, some smaller tasks could benefit from just the RASI structure.</p>
<p>For more information, visit the Best Practices on <a href="https://ideapublicschoolsorg.sharepoint.com/:w:/s/BestPracticesLibrary/EX_Be2K6aitIjIuTIIDw6ogBFrP3Rb6jlUi_yHJdNv5SeQ?e=aKdDi6">GRPI and RASI</a>.</p>
</div>
<div id="project-operating-mechanisms" class="section level3" number="5.2.4">
<h3>
<span class="header-section-number">5.2.4</span> Project operating mechanisms<a class="anchor" aria-label="anchor" href="#project-operating-mechanisms"><i class="fas fa-link"></i></a>
</h3>
<p>To monitor an ongoing project with your group members (either internal or external), consider an appropriate operating mechanism. An <strong>operating mechanism</strong> is a process (see <a href="https://idea-analytics.github.io/r_and_a_manual/projects.html#grpi-rasi">GRPI</a>) for establishing how the work can done. These meetings help establish and maintain regular communication across teams (see <a href="https://ideapublicschoolsorg.sharepoint.com/:w:/s/BestPracticesLibrary/ETq-uUomFuNOvTgbzAdwplwBaBXYEvUgoblw1FcV2l4cSQ?e=JhRUFw">Best Practice for Strong Business Partnerships</a>. At IDEA, two common operating mechanisms are:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Daily huddle</strong>: A (daily / morning / stand-up) huddle is a short (less than 10 minutes) to recap progress from the prior day and to state priorities for the current day. A team leader may also establish priorities for the team and provide announcements. This type of operating mechanism is optimal for teams that need to align priorities day-to-day. A <a href="https://ideapublicschoolsorg.sharepoint.com/:w:/s/BestPracticesLibrary/EXWFlniwe5lGl4sUGrBb-FQB8wt5AeW87EoKT1jqJQBx5A?e=K92ACk">Best Practice for Daily Huddles</a> is also available.</p></li>
<li><p><strong>Tactical</strong>: A (weekly / biweekly) tactical is a recurring meeting to review goals, share information, and solve short-term problems. Usually, there are both recurring agenda items and a real-time agenda that can be flexible week-to-week. This type of operating mechanism is optimal for both internal and cross-functional teams working towards a long-term goal. A <a href="https://ideapublicschoolsorg.sharepoint.com/:w:/s/BestPracticesLibrary/EbjTlM00OJxHgrvTh3QzA2sBThCQdEOfk8f9gh5F01zB2Q?e=xghlN8">Best Practice for Weekly Tactical</a> is also available.</p></li>
</ol>
<p>Consider reviewing Wrike, or the GRPI and RASI, at each of these operating mechanisms to record your progress, notes, and next steps.</p>
</div>
<div id="outgoing-data-requests" class="section level3" number="5.2.5">
<h3>
<span class="header-section-number">5.2.5</span> Outgoing data requests<a class="anchor" aria-label="anchor" href="#outgoing-data-requests"><i class="fas fa-link"></i></a>
</h3>
<p>If a data request or project is being sent to an external-to-IDEA partner (or potentially internal partners), then the data must be vetted for accuracy and consistency with prior data. Our team has processes to ensure that what we publish is consistent with a “source of truth” and can be easily verified later.</p>
<p>For the complete process, read through this document on <a href="https://ideapublicschoolsorg.sharepoint.com/:b:/s/ResearchandAnalysis/EatUXsxMoMJBvUV9k6QgpRgBvfziCWxeBiOZPqDxMG1cYA?e=klOUUz">Outgoing Data Requests</a>.</p>
</div>
</div>
<div id="section-ProjectTemplate" class="section level2" number="5.3">
<h2>
<span class="header-section-number">5.3</span> ProjectTemplate (for analyses)<a class="anchor" aria-label="anchor" href="#section-ProjectTemplate"><i class="fas fa-link"></i></a>
</h2>
<p><a href="http://projecttemplate.net/">ProjectTemplate</a> is both an R package and an approach. Simply put, it’s a package that builds the scaffolding for a project, provides good features for tracking package dependencies (though we also use <code>renv</code> for that), and separating data loading and prep from analysis and output, as well as caching of long running processes, which speeds up analytical time.</p>
<p>Is it perfect? No. It has more features than we’ll likely ever use (logging, code profiling, and unit testing).</p>
<div class="tip">
<p>If you are new to ProjectTemplate the <a href="http://projecttemplate.net/getting_started.html">Getting Started Tutorial is great</a>. Indeed, it’s always good to <a href="https://tyk.io/wp-content/webp-express/webp-images/uploads/2017/06/documentation_matrix.jpg.webp">read the docs</a></p>
</div>
<p>Seriously, though. The <a href="http://projecttemplate.net/">ProjectTemplate documentation</a> is great and you should really set aside an hour to read through it. This manual will provide a very abbreviated overview of how to use ProjectTemplate at IDEA, but will not be a stand in for the official documentation.</p>
<div id="installing-projecttemplate" class="section level3" number="5.3.1">
<h3>
<span class="header-section-number">5.3.1</span> Installing ProjectTemplate<a class="anchor" aria-label="anchor" href="#installing-projecttemplate"><i class="fas fa-link"></i></a>
</h3>
<p>Installing the package is straightforward</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"ProjectTemplate"</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="creating-a-project-with-projecttemplate" class="section level3" number="5.3.2">
<h3>
<span class="header-section-number">5.3.2</span> Creating a project with ProjectTemplate<a class="anchor" aria-label="anchor" href="#creating-a-project-with-projecttemplate"><i class="fas fa-link"></i></a>
</h3>
<p>Creating a project is pretty simple. Navigate to where you typically save projects via RStudio and then run the following commands:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://projecttemplate.net">ProjectTemplate</a></span><span class="op">)</span></span>
<span><span class="fu">create.project</span><span class="op">(</span><span class="st">"learning-pt"</span><span class="op">)</span></span></code></pre></div>
<p>Doing that bestows upon you the following directory structure:</p>
<div class="float">
<img src="img/learning-pt-directory-structure.png" title="ProjectTemplate Directory Structure" alt="ProjectTemplate Directory Structure"><div class="figcaption">ProjectTemplate Directory Structure</div>
</div>
<div class="gotcha">
<p>You’ll notice in the image above that there is <code>.Rproj</code> file, which isn’t added by ProjectTemplate. I created an Project in RStudio first and then navigated to that direction and ran the following:</p>
<p><code>create.project("../learning-pt/", merge.strategy = "allow.non.conflict")</code>,</p>
<p>which allows you to scaffold ProjectTemplate in an existing directory while ignoring any existing files and folders (usually *.Rproj and .git).</p>
</div>
</div>
<div id="what-goes-where" class="section level3" number="5.3.3">
<h3>
<span class="header-section-number">5.3.3</span> What goes where<a class="anchor" aria-label="anchor" href="#what-goes-where"><i class="fas fa-link"></i></a>
</h3>
<p>We only use about half of the directories that ProjectTemplate Scaffolds. Here’s what we use, in the order it’s evaluated by ProjectTemplate when you run <code>load.project()</code>:</p>
<p><strong>config</strong> This directory contains the configuration file <code>global.dcf</code>. This is the first thing that <code>load.project()</code> looks at. The full list of what each setting does is <a href="http://projecttemplate.net/configuring.html">here</a>. Here are a few highlights, in their order of importance.</p>
<ul>
<li>
<code>load_libraries</code>: This can be set to ‘on’ or ‘off’. If <code>load_libraries</code> is on, the system will load all of the R packages listed in the libraries field described below. By default, <code>load_libraries</code> is off. <em>I highly recommend that you turn this on</em>.</li>
<li>‘libraries’: This is a comma separated list of all the R packages that the user wants to automatically load when <code>load.project()</code> is called. These packages must already be installed before calling <code>load.project()</code>. By default, the reshape2, plyr, tidyverse, stringr, and lubridate packages are included in this list. <em>I recommend dropping these and only adding packages you are using for the project</em>.</li>
<li>
<code>data_loading</code>: This can be set to ‘on’ or ‘off’. If data_loading is on, the system will load data from both the cache and data directories with cache taking precedence in the case of name conflict. By default, <code>data_loading</code> is on.</li>
<li>
<code>cache_loading</code>: This can be set to ‘on’ or ‘off’. If <code>cache_loading</code> is on, the system will load data from the cache directory before any attempt to load from the data directory. By default, <code>cache_loading</code> is on.</li>
<li>
<code>munging</code>: This can be set to ‘on’ or ‘off’. If <code>munging</code> is on, the system will execute the files in the <code>munge</code> directory sequentially using the order implied by the <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> function. If <code>munging</code> is off, none of the files in the <code>munge</code> directory will be executed. By default, <code>munging</code> is on.</li>
<li>
<code>as_factors</code>: This can be set to ‘on’ or ‘off’. If <code>as_factors</code> is on, the system will convert every character vector into a factor when creating data frames; most importantly, this automatic conversion occurs when reading in data automatically. If ‘off’, character vectors will remain character vectors. By default, <code>as_factors</code> is off. *This is a very good default, and the opposite of base R.</li>
</ul>
<p><strong>lib</strong>: This directory is used to house helper functions. You can store them in an <code>*.R</code> file (like the included <code>helpers.R</code> file). ** As a general rule of thumb, if you’ve copied-and-pasted a block of code twice, don’t do it a third time; rather, abstract that block into a function and save it in this directory. <code>load.project</code> sources the files in this directory after readying <code>global.dcf</code>.</p>
<p><strong>cache</strong>: Here you’ll store any data sets that (i) are generated during a preprocessing step and (ii) don’t need to be regenerated every single time you analyze your data. You can use the <code>cache()</code> function to store data to this directory automatically. Any data set found in both the cache and data directories will be drawn from cache instead of data based on ProjectTemplate’s priority rules. ProjectTemplate always checks this before running code in the <code>data/</code> and <code>munge/</code> directories. You can <a href="http://projecttemplate.net/caching.html">learn more about caching here</a>.</p>
<p><strong>data</strong>: You store your raw data files here. If they are encoded <a href="http://projecttemplate.net/file_formats.html">in a supported file format</a>, they’ll automatically be loaded when you call <code>load.project()</code>, *unless cached versions of their output exist in the <code>cache/</code> directory.</p>
<p><strong>munge</strong>: Here you can store any preprocessing or “data munging” code for your project. For example, if you need to add columns at runtime, merge normalized data sets, or globally censor any data points, that code should be stored in the <code>munge</code> directory. The preprocessing scripts stored in <code>munge</code> will be executed in alphabetical order when you call <code>load.project()</code>, <em>so you should prepend numbers (to digit like <code>01-aggregate_schools</code>, <code>02-calc-means</code>, …) to the filenames to indicate their sequential order.</em> Files in here are run after those in <code>cache/</code> and <code>data/</code> are loaded.</p>
<p><strong>reports</strong>: Here you can store any output reports, especially RMarkdown reports, that you produce. This is where final reports live.</p>
<div class="gotcha">
<p>ProjectTemplate doesn’t always play well with RMarkdown (well, really the issue is with <code>knitr</code>). The biggest issue is running <code>load.project()</code> inside of RMarkdown. ProjectTemplate will complain that your <code>reports/</code> directory is not a ProjectTemplate directory, which is annoying. It’s easily fixed with this line of code at the top of your RMarkdown and you are in Rproject:</p>
<p><code>setwd(here::here()); load.project()</code></p>
<p>This will change the working directory to the top of project and then run <code>load.project</code>. After the project is loaded <code>knitr</code> will set the working directory back to <code>reports/</code>, so all other file references should be relative to <code>reports/</code></p>
</div>
<p><strong>src</strong>: Here you’ll store your statistical analysis and machine scripts. You should add the following piece of code to the start of each analysis script: <code>library('ProjectTemplate); load.project()</code> (you don’t need the tip above here). You should also do your best to ensure that any code that’s shared between the analyses in src is moved into the munge directory; if you do that, you can execute all of the analyses in the src directory in parallel. A future release of ProjectTemplate will provide tools to automatically execute every individual analysis from src in parallel. You may want to <code>cache()</code> your results here as well.</p>
<p><strong>graphs</strong>: Here you can store any graphs or PowerPoints that you produce, with the exception of those already contained in RMarkdown files.</p>
</div>
</div>
<div id="the-renv-package-ensuring-reproducibility" class="section level2" number="5.4">
<h2>
<span class="header-section-number">5.4</span> The <code>renv</code> package: Ensuring reproducibility<a class="anchor" aria-label="anchor" href="#the-renv-package-ensuring-reproducibility"><i class="fas fa-link"></i></a>
</h2>
<p>The <a href="https://rstudio.github.io/renv/"><code>renv</code> package</a> goes a long way to solving a pernicious problem: Dependency Hell. Here’s a good description of the problem:</p>
<p><a href="https://arxiv.org/pdf/1410.0846.pdf"><img src="img/dependency_hell.jpeg" title="renv helps avoid this" width="447" alt="Definition of dependency hell"></a></p>
<p>This problem mostly manifests when you revisit a recurring project a year later. You updated some year variables in your code and rerun your code and ready to pat yourself on the back and then BAM! your code breaks. It breaks because over the previous 12 months the packages you relied upon a year ago have been updated over time and don’t work with other packages. Sometimes all you need to do is update all of your packages and everything is hunky-dory; but other times this brute force process doesn’t work. You are left trying to understand what has changed over multiple packages, what you need to change in your code and something you thought would take you an hour takes a week, with most days feeling like you’re just banging your head against the wall.</p>
<p>This issue alone should be enough to convince you that you need to create <strong>re</strong>producible <strong>env</strong>ironments.</p>
<p>Another reason is related and often very immediate: working on the same analysis with someone else. Perhaps you are fastidious and only use the most current version of every package and your partner is risk averse and only updates packages after they’ve been out in the wild for at least a year. If you are in this boat you’re going to have problems.</p>
<p>Again, you need to create <strong>re</strong>producible <strong>env</strong>ironments.</p>
<p>This is a common technique in Python and there it goes by the name of virtual environments. <code>renv</code> is an R implementation of the concept that is pretty elegant. Along with <a href="projects.html#section-ProjectTemplate">ProjectTemplate</a>, we use the <a href="https://rstudio.github.io/renv/"><code>renv</code> package</a> to ensure that our analysis projects are:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Isolated</strong>: Each project gets its own library of R packages, so you can feel free to upgrade and change package versions in one project without worrying about breaking your other projects.</p></li>
<li><p><strong>Portable</strong>: Because <code>renv</code> captures the state of your R packages within a <code>lockfile</code>, you can more easily share and collaborate on projects with others, and ensure that everyone is working from a common base.</p></li>
<li><p><strong>Reproducible</strong>: Use <code>renv::snapshot()</code> to save the state of your R library to the lockfile <code>renv.lock</code>. You can later use <code>renv::restore()</code> to restore your R library exactly as specified in the lockfile.</p></li>
</ol>
<p>These three points are crucial for working well with others and protection for your future self.</p>
<div class="tip">
<p>As usual, you really should <a href="https://rstudio.github.io/renv/articles/renv.html">read the docs for <code>renv</code></a>. They are thorough and clear.</p>
<p>There’s also an excellent <a href="https://rstudio.github.io/renv/articles/faq.html">FAQ</a></p>
</div>
<div id="setting-up-renv-with-a-new-project" class="section level3" number="5.4.1">
<h3>
<span class="header-section-number">5.4.1</span> Setting up <code>renv</code> with a new project<a class="anchor" aria-label="anchor" href="#setting-up-renv-with-a-new-project"><i class="fas fa-link"></i></a>
</h3>
<p>If you are starting a new project in RStudio then setting up <code>renv</code> is easy: just be sure to click the Use renv with this project.</p>
<div class="float">
<img src="img/renv-new-Project.png" title='Be sure to click the "Use renv with this project" checkbok' width="447" alt="Definition of dependency hell"><div class="figcaption">Definition of dependency hell</div>
</div>
<p>Checking that box will add the bootstrap <code>renv</code>, installing the package if necessary as well as a few folders and files that serve as infrastructure.</p>
</div>
<div id="setting-up-renv-with-an-existing-project" class="section level3" number="5.4.2">
<h3>
<span class="header-section-number">5.4.2</span> Setting up <code>renv</code> with an existing project<a class="anchor" aria-label="anchor" href="#setting-up-renv-with-an-existing-project"><i class="fas fa-link"></i></a>
</h3>
<p>If you’ve got a project that you want to starting using <code>renv</code>, it’s pretty straightforward.</p>
<ol style="list-style-type: decimal">
<li>Install <code>renv</code> if you don’t have it: <code>install.packages('renv')</code>
</li>
<li>Use <code>renv::init()</code> to initialize a project. <code>renv</code> will discover the R packages used in your project, and install those packages into a private project library.</li>
</ol>
<p>It’s really that simple!</p>
</div>
<div id="using-renv" class="section level3" number="5.4.3">
<h3>
<span class="header-section-number">5.4.3</span> Using <code>renv</code><a class="anchor" aria-label="anchor" href="#using-renv"><i class="fas fa-link"></i></a>
</h3>
<p>The <code>renv</code> workflow is super duper simple, after you’ve set it up:</p>
<ol style="list-style-type: decimal">
<li>Work in your project as usual, installing and upgrading R packages as required as your project evolves.</li>
<li>Use <code>renv::snapshot()</code> to save the state of your project library. The project state will be serialized into a file called <code>renv.lock</code>.</li>
<li>If you want to revert to the previous state of your project—i.e., you installed a new version of a package and it’s wreaking havoc on your project—simply use <code>renv::restore()</code>.</li>
</ol>
<div class="hat">
<p>Following these simple steps isolates your project’s environment from the rest of your other projects. So downloading a bleeding-edge, dev version of package from GitHub because you need a new feature won’t pollute your other projects that are running just fine. This is the isolation bit mentioned in the three points above.</p>
</div>
</div>
<div id="collaborating-with-renv" class="section level3" number="5.4.4">
<h3>
<span class="header-section-number">5.4.4</span> Collaborating with <code>renv</code><a class="anchor" aria-label="anchor" href="#collaborating-with-renv"><i class="fas fa-link"></i></a>
</h3>
<p>The <code>renv</code> developers recommend the following steps when using <code>renv</code> in collaborative settings</p>
<ol style="list-style-type: decimal">
<li><p>Use a <a href="https://git-scm.com/">git</a>/<a href="https://github.com/">GitHub</a> repo.</p></li>
<li><p>One user should explicitly initialize <code>renv</code> in the project, via <a href="https://rstudio.github.io/renv/reference/init.html"><code>renv::init()</code></a> or when starting an RStudio project. Doing so will create the initial <code>renv</code> lockfile, and also write the <code>renv</code> auto-loaders to the project’s <code>.Rprofile</code> and <code>renv/activate.R</code>. These will ensure the right version of <code>renv</code> is downloaded and installed for your collaborators when they start in this project.</p></li>
<li><p>Share your project sources, alongside the generated lockfile <code>renv.lock</code> via GitHub. Be sure to also share the generated auto-loaders in <code>.Rprofile</code> and <code>renv/activate.R</code> via the repo.</p></li>
<li><p>When a collaborator first launches in this project, <code>renv</code> should automatically bootstrap itself, thereby downloading and installing the appropriate version of <code>renv</code> into the project library. After this has completed, they can then use <a href="https://rstudio.github.io/renv/reference/restore.html"><code>renv::restore()</code></a> to restore the project library locally on their machine.</p></li>
</ol>
<div class="gotcha">
<p>While working on a project, you or your collaborators may need to update or install new packages in your project. <strong>When this occurs, you’ll also want to ensure your collaborators are then using the same newly-installed packages.</strong> In general, the process looks like this:</p>
<ol style="list-style-type: decimal">
<li><p>A user installs, or updates, one or more packages in their local project library;</p></li>
<li><p>That user calls <a href="https://rstudio.github.io/renv/reference/snapshot.html"><code>renv::snapshot()</code></a> to update the <code>renv.lock</code> lockfile;</p></li>
<li><p>That user then shares the updated version of <code>renv.lock</code> with their collaborators via github;</p></li>
<li><p>Other collaborators then—after a git pull—call <a href="https://rstudio.github.io/renv/reference/restore.html"><code>renv::restore()</code></a> to install the packages specified in the newly-updated lockfile.</p></li>
</ol>
<p><strong>A bit of care is required</strong> if collaborators wish to update the shared <code>renv.lock</code> lockfile concurrently – in particular, if multiple collaborators are installing new packages and updating their own local copy of the lockfile, then conflicts would need to be sorted out afterwards.</p>
<p>Use teams to ensure any changes to <code>renv.lock</code> are communicated so that everyone knows and understands when and why packages have been installed or updated.</p>
</div>
<p>For more information on collaboration strategies, please visit <a href="https://environments.rstudio.com/">environments.rstudio.com</a>.</p>
</div>
<div id="renv-and-rstudio-connect" class="section level3" number="5.4.5">
<h3>
<span class="header-section-number">5.4.5</span> <code>renv</code> and RStudio Connect<a class="anchor" aria-label="anchor" href="#renv-and-rstudio-connect"><i class="fas fa-link"></i></a>
</h3>
<p>In short, there should be no issues, but there is one important thing to always keep in mind when publishing to RStudio connect:</p>
<div class="gotcha">
<p>The <code>renv</code> generated <code>.Rprofile</code> file should <strong>not</strong> be included in deployments to RStudio Connect.</p>
</div>
</div>
</div>
<div id="publishing-projects" class="section level2" number="5.5">
<h2>
<span class="header-section-number">5.5</span> Publishing Projects<a class="anchor" aria-label="anchor" href="#publishing-projects"><i class="fas fa-link"></i></a>
</h2>
<p>Our reports can be published for our stakeholders through a variety of sites. The location is up to you, but there are some nice options to do so.</p>
<div id="rstudio-connect" class="section level3" number="5.5.1">
<h3>
<span class="header-section-number">5.5.1</span> RStudio Connect<a class="anchor" aria-label="anchor" href="#rstudio-connect"><i class="fas fa-link"></i></a>
</h3>
<p>If your report is written in RMarkdown, then you can directly publish your report from RStudio to <a href="https://www.rstudio.com/products/connect/">RStudio Connect</a> at our <a href="https://analytics.ideapublicschools.org/connect/">team site</a>.</p>
<p>To publish a report, do the following:</p>
<ol style="list-style-type: decimal">
<li><p>Make sure your output in the header section is set to <code>output: html_document</code>. You can add other options, like a table of contents and formatting.</p></li>
<li><p>Knit your .Rmd to find any compiling errors before you publish.</p></li>
<li><p>Click on the blue Publish button in the upper right hand corner of the html output or in the editor.</p></li>
<li><p>Select RStudio Connect.</p></li>
<li><p>Choose if you want to publish with the source code or just publish the finished document. (The source code is useful if your report is recurring and can be updated, while the finished document is appropriate for things like analytical reports.)</p></li>
<li><p>Select analytics.ideapublicschools.org as the destination. Then, choose an appropriate title for your report. Finally, click Publish.</p></li>
</ol>
<div class="gotcha">
<p>If the .Rmd filename is too long, then the report will not publish. You’ll need to shorten the filename if you get errors.</p>
</div>
<ol start="7" style="list-style-type: decimal">
<li>Check your report on RStudio Connect and make adjustments under the Settings gear.</li>
</ol>
<p>A detailed guide about publishing can be found in the RStudio Connect <a href="https://docs.rstudio.com/connect/user/publishing/">documentation</a>.</p>
</div>
<div id="power-bi" class="section level3" number="5.5.2">
<h3>
<span class="header-section-number">5.5.2</span> Power BI<a class="anchor" aria-label="anchor" href="#power-bi"><i class="fas fa-link"></i></a>
</h3>
<p>If your dashboard was created in Power BI and you want to directly publish your dashboard to app.powerbi.com (Power BI Online) these are the steps to do so. You can go directly online to view your <a href="https://app.powerbi.com">Power BI</a>.</p>
<ol style="list-style-type: decimal">
<li><p>Make sure at the top right you are signed in with your account.</p></li>
<li><p>Save the report before Publishing.</p></li>
<li><p>On the Home menu, on the far right click Publish</p></li>
<li><p>Select the Workspace that you want to Publish the dashboard to, then click “Select”.
If you want to later post this Published dashboard to the team site (TheHub), select the “Research and Analysis” Workspace or a Premium Content Workspace, noted by a diamond on the Workspace.</p></li>
<li><p>Go to <a href="https://app.powerbi.com">Power BI</a> then go to your dashboard in the Workspace you Published and there will be two items, the dashboard and the data.</p></li>
<li><p>Click on the dashboard report and then go to File &gt; Embed report &gt; Website or portal and copy the link in “Here’s a link you can use to embed this content.”
Use that link to share out or post to a Team Site.</p></li>
</ol>
</div>
<div id="team-site-thehub" class="section level3" number="5.5.3">
<h3>
<span class="header-section-number">5.5.3</span> Team Site (TheHub)<a class="anchor" aria-label="anchor" href="#team-site-thehub"><i class="fas fa-link"></i></a>
</h3>
<p>The R&amp;A Team Site Documents folder contains files we upload to the Team Site.</p>
<p>The <a href="projects.html#team-site-thehub">Team Site (TheHub)</a> Documents folder is not to be confused with the R&amp;A Private Group Documents folder. The <a href="specific-projects.html#ra-private-group">R&amp;A Private Group</a> Documents folder contains shared folders R&amp;A team members use for collaborative work and storage.</p>
<div id="published-evaluation-plans" class="section level4" number="5.5.3.1">
<h4>
<span class="header-section-number">5.5.3.1</span> Published Evaluation Plans<a class="anchor" aria-label="anchor" href="#published-evaluation-plans"><i class="fas fa-link"></i></a>
</h4>
<p>On an annual basis, save a copy of the final evaluation plan to the Team Site Documents folder and select for upload to the R&amp;A Team Site.</p>
<p>The <a href="projects.html#team-site-thehub">Team Site (TheHub)</a> and
Team Site Documents folder are not to be confused with the R&amp;A Private Group Documents folder. The <a href="specific-projects.html#ra-private-group">R&amp;A Private Group</a> Documents folder contains shared folders R&amp;A team members use for collaborative work and storage.</p>
<p>Evaluation plans are published annually to the <a href="projects.html#team-site-thehub">Team Site (TheHub)</a>. Published evaluation plan files are stored in the Team Site <code>Documents folder &gt; Evaluation &gt; Evaluation Plans &gt; FY 20##</code> for accessibility, consistency, and organization purposes.</p>
<p>On an annual basis, save copy of each final, approved, ready-for-publication evaluation plan to the appropriate Team Site Documents folder. Select files for upload to the R&amp;A Team Site.</p>

</div>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="key-tables-measures-and-metrics.html"><span class="header-section-number">4</span> Key Tables, Measures, and Metrics</a></div>
<div class="next"><a href="specific-projects.html"><span class="header-section-number">6</span> Specific Projects</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#projects"><span class="header-section-number">5</span> Projects</a></li>
<li>
<a class="nav-link" href="#section-github"><span class="header-section-number">5.1</span> Version control with GitHub</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#getting-started-with-git-github-and-rstudio"><span class="header-section-number">5.1.1</span> Getting Started with Git, GitHub, and RStudio</a></li>
<li><a class="nav-link" href="#feature-branch-workflow"><span class="header-section-number">5.1.2</span> Feature Branch Workflow</a></li>
<li><a class="nav-link" href="#example-workflow-with-this-manual-or-getting-your-feet-wet"><span class="header-section-number">5.1.3</span> Example workflow with this manual, or getting your feet wet</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#project-process"><span class="header-section-number">5.2</span> Project Process</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#general-project-management"><span class="header-section-number">5.2.1</span> General project management</a></li>
<li><a class="nav-link" href="#wrike-projects-and-requests"><span class="header-section-number">5.2.2</span> Wrike projects and requests</a></li>
<li><a class="nav-link" href="#grpi-rasi"><span class="header-section-number">5.2.3</span> GRPI and RASI</a></li>
<li><a class="nav-link" href="#project-operating-mechanisms"><span class="header-section-number">5.2.4</span> Project operating mechanisms</a></li>
<li><a class="nav-link" href="#outgoing-data-requests"><span class="header-section-number">5.2.5</span> Outgoing data requests</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#section-ProjectTemplate"><span class="header-section-number">5.3</span> ProjectTemplate (for analyses)</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#installing-projecttemplate"><span class="header-section-number">5.3.1</span> Installing ProjectTemplate</a></li>
<li><a class="nav-link" href="#creating-a-project-with-projecttemplate"><span class="header-section-number">5.3.2</span> Creating a project with ProjectTemplate</a></li>
<li><a class="nav-link" href="#what-goes-where"><span class="header-section-number">5.3.3</span> What goes where</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#the-renv-package-ensuring-reproducibility"><span class="header-section-number">5.4</span> The renv package: Ensuring reproducibility</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#setting-up-renv-with-a-new-project"><span class="header-section-number">5.4.1</span> Setting up renv with a new project</a></li>
<li><a class="nav-link" href="#setting-up-renv-with-an-existing-project"><span class="header-section-number">5.4.2</span> Setting up renv with an existing project</a></li>
<li><a class="nav-link" href="#using-renv"><span class="header-section-number">5.4.3</span> Using renv</a></li>
<li><a class="nav-link" href="#collaborating-with-renv"><span class="header-section-number">5.4.4</span> Collaborating with renv</a></li>
<li><a class="nav-link" href="#renv-and-rstudio-connect"><span class="header-section-number">5.4.5</span> renv and RStudio Connect</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#publishing-projects"><span class="header-section-number">5.5</span> Publishing Projects</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#rstudio-connect"><span class="header-section-number">5.5.1</span> RStudio Connect</a></li>
<li><a class="nav-link" href="#power-bi"><span class="header-section-number">5.5.2</span> Power BI</a></li>
<li><a class="nav-link" href="#team-site-thehub"><span class="header-section-number">5.5.3</span> Team Site (TheHub)</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/idea-analytics/r_and_a_manual/blob/master/05a-Projects.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/idea-analytics/r_and_a_manual/edit/master/05a-Projects.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>IDEA R&amp;A Manual</strong>" was written by Chris Haid, Edison Coronado, Mishan Jensen, Maura Carter, Steven Macapagal, Aline Orr, Ilissa Madrigal, Marlena Coco. It was last built on 2024-03-07.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
