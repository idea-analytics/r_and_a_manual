<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 9 Models and Methods | IDEA R&amp;A Manual</title>
<meta name="author" content="Chris Haid, Edison Coronado, Mishan Jensen, Maura Carter, Steven Macapagal, Aline Orr, Ilissa Madrigal, Marlena Coco">
<meta name="description" content="Our research involves a wide variety of methods in statistics and data science to analyze problems and answer questions in educational data. In consultation with our stakeholders, we carefully...">
<meta name="generator" content="bookdown 0.29 with bs4_book()">
<meta property="og:title" content="Chapter 9 Models and Methods | IDEA R&amp;A Manual">
<meta property="og:type" content="book">
<meta property="og:url" content="https://idea-analytics.github.io/r_and_a_manual/models-and-methods.html">
<meta property="og:description" content="Our research involves a wide variety of methods in statistics and data science to analyze problems and answer questions in educational data. In consultation with our stakeholders, we carefully...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 9 Models and Methods | IDEA R&amp;A Manual">
<meta name="twitter:description" content="Our research involves a wide variety of methods in statistics and data science to analyze problems and answer questions in educational data. In consultation with our stakeholders, we carefully...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.0/transition.js"></script><script src="libs/bs3compat-0.4.0/tabs.js"></script><script src="libs/bs3compat-0.4.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/viz-1.8.2/viz.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/grViz-binding-1.0.9/grViz.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">IDEA R&amp;A Manual</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> A little about this manual</a></li>
<li><a class="" href="who.html"><span class="header-section-number">2</span> Contributors</a></li>
<li><a class="" href="the-data-warehouse-and-how-to-access-it.html"><span class="header-section-number">3</span> The Data Warehouse and how to access it</a></li>
<li><a class="" href="key-tables-measures-and-metrics.html"><span class="header-section-number">4</span> Key Tables, Measures, and Metrics</a></li>
<li><a class="" href="projects.html"><span class="header-section-number">5</span> Projects</a></li>
<li><a class="" href="specific-projects.html"><span class="header-section-number">6</span> Specific Projects</a></li>
<li><a class="" href="coding-standards.html"><span class="header-section-number">7</span> Coding Standards</a></li>
<li><a class="" href="visualization-standards.html"><span class="header-section-number">8</span> Visualization Standards</a></li>
<li><a class="active" href="models-and-methods.html"><span class="header-section-number">9</span> Models and Methods</a></li>
<li><a class="" href="tips-and-tricks.html"><span class="header-section-number">10</span> Tips and Tricks</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/idea-analytics/r_and_a_manual">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="models-and-methods" class="section level1">
<h1>
<span class="header-section-number">9</span> Models and Methods<a class="anchor" aria-label="anchor" href="#models-and-methods"><i class="fas fa-link"></i></a>
</h1>
<p>Our research involves a wide variety of methods in statistics and data science to analyze problems and answer questions in educational data. In consultation with our stakeholders, we carefully select the most relevant approach(es) to provide an appropriate and accurate product.</p>
<p>We use methods in descriptive, inferential, and predictive statistics to understand information about our organization. The choice of frequentist vs. Bayesian methods is up to you and should always be justified, but choosing the simplest, appropriate tool should be the starting point for analysis But, before we start any analysis, the design of the program influences how we establish our methods of research.</p>
<div id="research-design" class="section level2">
<h2>
<span class="header-section-number">9.1</span> Research design<a class="anchor" aria-label="anchor" href="#research-design"><i class="fas fa-link"></i></a>
</h2>
<p>When our works requires us to assign causation, we must consider how the data were collected before deciding on an appropriate model.</p>
<div id="causal-inference" class="section level3">
<h3>
<span class="header-section-number">9.1.1</span> Causal inference<a class="anchor" aria-label="anchor" href="#causal-inference"><i class="fas fa-link"></i></a>
</h3>
<p>Most of our data is observational, so if we want to describe causal relationships in our data, we must appeal to potential outcomes. Thus, we will briefly cover some of relevant causal inference concepts and techniques.</p>
<p>When a student is marked for inclusion in, say, a tutorial group, we would like to see how much the tutorial increased their score on a test, compared to a scenario where the student did not attend the tutorial. If the student attends the tutorial, we can measure the outcome of the treatment (the tutorial) by seeing what grade they earned after a test; we cannot observe, however, the outcome of the control (no tutorial). Potential outcomes aims to remedy this.</p>
<div id="potential-outcomes" class="section level4">
<h4>
<span class="header-section-number">9.1.1.1</span> Potential outcomes<a class="anchor" aria-label="anchor" href="#potential-outcomes"><i class="fas fa-link"></i></a>
</h4>
<p>Suppose we have both the treatment and control outcomes for each student. We would like to measure <span class="math inline">\(\delta_i = Y^1_i - Y^0_i\)</span>, the difference in the treatment outcome <span class="math inline">\(Y^1_i\)</span> and control outcome <span class="math inline">\(Y^0_i\)</span> for student <span class="math inline">\(i\)</span>. Then, our main estimators for the tutorial effect are <span class="math inline">\(ATE, ATT\)</span> and <span class="math inline">\(ATU\)</span>, which are defined below:</p>
<ul>
<li><p><span class="math inline">\(ATE = E[\delta_i]\)</span> represents the <strong>A</strong>verage <strong>T</strong>reatment <strong>E</strong>ffect <span class="math inline">\(E[\delta_i] = E[Y^1_i - Y^0_i]\)</span>. In other words, <span class="math inline">\(ATE\)</span> answers the question “What is the additional effect of the treatment?”</p></li>
<li><p><span class="math inline">\(ATT = E[\delta_i \mid \textrm{in treatment group}]\)</span> represents the <strong>A</strong>verage <strong>T</strong>reatment effect of the <strong>T</strong>reatment group, <span class="math inline">\(E[Y^1_i - Y^0_i \mid \textrm{in treatment group}]\)</span>. In other words, <span class="math inline">\(ATT\)</span> answers the question “What is the additional effect of the treatment for those in the treatment group?”</p></li>
<li><p><span class="math inline">\(ATU = E[\delta_i \mid \textrm{in control group}]\)</span> represents the <strong>A</strong>verage <strong>T</strong>reatment effect of the <strong>U</strong>ntreated (control) group, <span class="math inline">\(E[Y^1_i - Y^0_i \mid \textrm{in control group}]\)</span>. In other words, <span class="math inline">\(ATU\)</span> answers the question “What is the additional effect of the treatment for those in the control group?”</p></li>
<li><p><span class="math inline">\(ATE\)</span> can be decomposed into a weighted average of <span class="math inline">\(ATT, ATU\)</span>, such that <span class="math inline">\(ATE = p\times ATT + (1-p)\times ATU\)</span>, where <span class="math inline">\(p\)</span> is the weight of the treatment group.</p></li>
</ul>
<p>In our scenario,</p>
<ul>
<li><p><span class="math inline">\(ATE\)</span> represents the expected marginal effect of the tutorial group on test scores for all students,</p></li>
<li><p><span class="math inline">\(ATT\)</span> represents the expected marginal effect of the tutorial group for students who participate in tutorials, and</p></li>
<li><p><span class="math inline">\(ATU\)</span> represents the expected marginal effect of the tutorial group for students who do not participate in tutorials.</p></li>
</ul>
<p>Estimates may be biased because we do not randomly assign students to tutorials - we select them for each group based on some criteria. Using randomization inference, we can separate assignment bias from the estimates of <span class="math inline">\(ATT, ATU\)</span> to find appropriate estimates and p-values on <span class="math inline">\(ATE\)</span>.</p>
</div>
<div id="matching-models" class="section level4">
<h4>
<span class="header-section-number">9.1.1.2</span> Matching models<a class="anchor" aria-label="anchor" href="#matching-models"><i class="fas fa-link"></i></a>
</h4>
<p>We can leverage large samples to find a potential outcome for a student by matching other students who are reasonably similar, using a specified distance measure. Thus, we can reasonably estimate <span class="math inline">\(ATE\)</span> since we have both the treatment and control outcomes.</p>
<p>By using the <code>matchit</code> package in R, we can specify covariates we would like to match in our data between the treatment and control groups.</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#use matchit like a glm</span></span>
<span><span class="va">m_out</span> <span class="op">&lt;-</span> <span class="fu">matchit</span><span class="op">(</span><span class="va">ActiveIL</span> <span class="op">~</span> <span class="va">Race</span> <span class="op">+</span> <span class="va">Gender</span> <span class="op">+</span> <span class="va">Grade</span> <span class="op">+</span></span>
<span>                   <span class="va">SPED</span> <span class="op">+</span> <span class="va">LEP</span> <span class="op">+</span> <span class="va">EcoDis</span> <span class="op">+</span> <span class="va">GradeEquivalentBOY</span>, <span class="co">#response specifies control/treatment, covariates specify what to match</span></span>
<span>                 data <span class="op">=</span> <span class="va">rs_il_mod</span>,</span>
<span>                 method <span class="op">=</span> <span class="st">"cem"</span>, <span class="co">#specify matching method</span></span>
<span>                 link <span class="op">=</span> <span class="st">"logit"</span>,</span>
<span>                 estimand <span class="op">=</span> <span class="st">"ATT"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#produces data frame with needed weights</span></span>
<span><span class="va">m_data</span> <span class="op">&lt;-</span> <span class="fu">match.data</span><span class="op">(</span><span class="va">m_out</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#model uses weighted linear model to estimate causal effect of using Imagine Learning</span></span>
<span><span class="va">m_att</span> <span class="op">&lt;-</span> <span class="fu">lm_robust</span><span class="op">(</span><span class="va">GradeEquivalentGrowth</span> <span class="op">~</span> <span class="va">ActiveIL</span>,</span>
<span>                   data <span class="op">=</span> <span class="va">m_data</span>,</span>
<span>                   weights <span class="op">=</span> <span class="va">m_data</span><span class="op">$</span><span class="va">weights</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">m_att</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="regression-discontinuity" class="section level4">
<h4>
<span class="header-section-number">9.1.1.3</span> Regression discontinuity<a class="anchor" aria-label="anchor" href="#regression-discontinuity"><i class="fas fa-link"></i></a>
</h4>
</div>
<div id="instrumental-variables" class="section level4">
<h4>
<span class="header-section-number">9.1.1.4</span> Instrumental variables<a class="anchor" aria-label="anchor" href="#instrumental-variables"><i class="fas fa-link"></i></a>
</h4>
</div>
<div id="difference-in-differences" class="section level4">
<h4>
<span class="header-section-number">9.1.1.5</span> Difference-in-differences<a class="anchor" aria-label="anchor" href="#difference-in-differences"><i class="fas fa-link"></i></a>
</h4>
</div>
</div>
<div id="experimental-design" class="section level3">
<h3>
<span class="header-section-number">9.1.2</span> Experimental design<a class="anchor" aria-label="anchor" href="#experimental-design"><i class="fas fa-link"></i></a>
</h3>
<p>Under ideal conditions, we would test the effect of a program by randomized controlled trials – this usually does not happen. However, we can still use the tools of design to <em>structure</em> our data and variance appropriately.</p>
<div id="differences-among-distributions-of-groups" class="section level4">
<h4>
<span class="header-section-number">9.1.2.1</span> Differences among distributions of groups<a class="anchor" aria-label="anchor" href="#differences-among-distributions-of-groups"><i class="fas fa-link"></i></a>
</h4>
<p>If we are comparing means from multiple groups, then we first need a procedure to compare all means together. Afterward, we might choose a post-hoc procedure to see which pairs of means are different.</p>
<p>The most common way of comparing multiple means is an ANOVA (analysis of variance). To perform an ANOVA:</p>
<ol style="list-style-type: decimal">
<li>construct a linear model and save the object <code>lm_my_model &lt;- lm()</code> (see linear modeling below)</li>
<li>compare the variance among the groups using <code>aov(lm_my_model)</code>
</li>
</ol>
<p>Suppose we want to use SEL survey results to measure life satisfaction across multiple grade levels. To see if the average <code>LifeSatisfactionScore</code> differs at all between grade levels, then we can use the following code:</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># linear model, where grade level is treated as a factor, not numeric</span></span>
<span><span class="va">lm_survey_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">LifeSatisfactionScore</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">GradeLevelID</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># perform ANOVA</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/aov.html">aov</a></span><span class="op">(</span><span class="va">lm_survey_results</span><span class="op">)</span></span></code></pre></div>
<p>Then, if the ANOVA suggests the means are not all the same, then a post-hoc analysis can reveal <em>which</em> groups are different.</p>
<ol style="list-style-type: decimal">
<li>Determine how many tests are being conducted.</li>
<li>Use a Bonferonni correction (or other appropriate correction) to adjust p-values or <span class="math inline">\(\alpha\)</span>-level.</li>
<li>Choose an appropriate post-hoc test:</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>Tukey HSD - check all pairs of means to see which pairs are significantly different</li>
<li>Dunnett - compare all means to a control</li>
<li>Hsu - check which means are the “best”, either the lowest or highest of the group</li>
</ol>
</div>
<div id="differences-among-levels-of-variables" class="section level4">
<h4>
<span class="header-section-number">9.1.2.2</span> Differences among levels of variables<a class="anchor" aria-label="anchor" href="#differences-among-levels-of-variables"><i class="fas fa-link"></i></a>
</h4>
<p>Educational data can often be described in a hierarchy:</p>
<ul>
<li>Level 1: student</li>
<li>Level 2: student within a school</li>
<li>Level 3: student within a school within a region</li>
</ul>
<p>A <strong>mixed model</strong> (also, <strong>hierarchical</strong> or <strong>multilevel</strong>) allows for both fixed and random effects, so this nesting will give us different variances at each level. This is ideal for modeling an outcome that can vary by school and regional differences - in other words, we can vary the slope and intercept by each school and region.</p>
<p>Code, diagnostics, communication and limitations coming soon…</p>
</div>
</div>
</div>
<div id="descriptive-statistics" class="section level2">
<h2>
<span class="header-section-number">9.2</span> Descriptive statistics<a class="anchor" aria-label="anchor" href="#descriptive-statistics"><i class="fas fa-link"></i></a>
</h2>
<p>When summarizing a distribution of data, we are usually tasked with describing (1) measures of center, such as counts and proportions for categorical data, or means and medians for quantitative data and then displaying those values for our stakeholders. To provide context and increase the statistical literacy of our team and family, we also describe the (2) spread, (3) shape, and (4) unusual features of the distribution.</p>
<div id="numerical-summaries---broad-principles" class="section level3">
<h3>
<span class="header-section-number">9.2.1</span> Numerical summaries - broad principles<a class="anchor" aria-label="anchor" href="#numerical-summaries---broad-principles"><i class="fas fa-link"></i></a>
</h3>
<p>For <strong>categorical data</strong>, consider the distribution of proportions and counts (the sample size) across the various categories. One-way and two-way frequency tables, with marginal and total proportions and counts, are useful for displaying the data.</p>
<p>For <strong>univariate, quantitative data</strong>, use the shape of the distribution to determine appropriate numerical measures. For symmetric data, the mean <span class="math inline">\(\bar{x}\)</span> <code>mean(x)</code> and standard deviation <span class="math inline">\(s\)</span> <code>sd(x)</code> can be appropriate for reporting and is accessible by a broad audience. For skewed data, consider the median <span class="math inline">\(\tilde{x}\)</span> <code>median(x)</code> (and possibly the MAD - median absolute deviation <code>mad(x)</code>), and provide context for choosing these measures. Note: The median is also a widely accessible statistic to most people, since it describes the midpoint of your distribution. Consider using it alongside the mean.</p>
<p>For <strong>bivariate data</strong>, use a scatterplot to determine if linear measures can be used appropriately. The Pearson correlation <span class="math inline">\(r\)</span> <code>cor(x, y)</code> can be easily understood by a wide audience to describe the linear strength of a bivariate association. However, the Spearman rank correlation <code>cor(x, y, method = "spearman")</code> can provide an associative measure for monotonic nonlinear associations, and Kendall’s <span class="math inline">\(\tau\)</span> <code>cor(x, y, method = "kendall")</code> can describe concordance for ordinal data.</p>
<p>When describing <strong>outliers</strong> in a report, care should be taken when describing how we identify and use (or remove) the outliers from the data set.</p>
<div class="tip">
<p>One heuristic for deciding what to do with an outlier is to ask yourself, “Does this observation <em>belong</em> in the sample?”</p>
<p>If you decide that the observation is fundamentally different than the others (e.g. a school is off-model and does not implement the Imagine Learning the same way that other schools do), then you might consider removing that observation. If the observation represents some exceptional case of the proposed model, then you might consider keeping that observation.</p>
</div>
<p>In general, we should be modeling a measure of center and its spread as a function of covariates (see Modeling and predictive statistics).</p>
</div>
<div id="graphical-summaries---broad-principles" class="section level3">
<h3>
<span class="header-section-number">9.2.2</span> Graphical summaries - broad principles<a class="anchor" aria-label="anchor" href="#graphical-summaries---broad-principles"><i class="fas fa-link"></i></a>
</h3>
<p>While there are plenty of ways to display data, all graphs should be accompanied by an explanation of key features. Our aim is to help educators interpret the data in memorable, meaningful ways, and graphs without context can convey the wrong information or may obscure what the researcher attempted to communicate. Each graph should include a descriptive title, axes, and appropriate labels; consider using the <a href="https://idea-analytics.github.io/ideacolors/">ideacolors</a> package for aesthetics.</p>
<p>Selecting an appropriate graphical display depends on the purpose of the analysis and the communication of results. Bar graphs, line graphs, histograms, and scatterplots each have their place in displaying central tendency; however, emphasis should be placed on displaying variation within the data.</p>
<div id="displaying-variation" class="section level4">
<h4>
<span class="header-section-number">9.2.2.1</span> Displaying variation<a class="anchor" aria-label="anchor" href="#displaying-variation"><i class="fas fa-link"></i></a>
</h4>
<p>Variation can be addressed by the following (non-exhaustive) list:</p>
<ol style="list-style-type: decimal">
<li><p>Comparing sample sizes, both for the entire distribution and within each group</p></li>
<li><p>Comparing variation within and between groups</p></li>
<li><p>Displaying variation across time</p></li>
<li><p>Clustering of values in a region (and conversely, gaps in data)</p></li>
</ol>
<p>Different approaches to this could be altering alpha values, jittering, color scales, size, and the shape of the marker. Some sample code for doing is found below:</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">make_Data_By_Launch_Cohort</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">LaunchSchoolYear</span>,</span>
<span>             y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/jitter.html">jitter</a></span><span class="op">(</span><span class="va">MedianGrowth</span><span class="op">)</span>, <span class="co">#jittering of clustered points</span></span>
<span>             group <span class="op">=</span> <span class="va">School</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>color <span class="op">=</span> <span class="va">School</span>, <span class="co">#change color by school</span></span>
<span>                 alpha <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span>, <span class="co">#set transparency level to 0.2</span></span>
<span>             size <span class="op">=</span> <span class="fl">3.5</span><span class="op">)</span> <span class="op">+</span> <span class="co">#increases size of point</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>y <span class="op">=</span> <span class="va">MedianGrowthLaunch</span>,</span>
<span>                 color <span class="op">=</span> <span class="va">LaunchOrder</span><span class="op">)</span>,</span>
<span>             shape <span class="op">=</span> <span class="fl">3</span>, <span class="co">#changes shape to plus sign +</span></span>
<span>             size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_color_idea</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">theme_idea_light</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">LaunchOrder</span>,</span>
<span>             labeller <span class="op">=</span> <span class="fu">labeller</span><span class="op">(</span>LaunchOrder <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"1"</span> <span class="op">=</span> <span class="st">"First Year"</span>,</span>
<span>                                                 <span class="st">"2"</span> <span class="op">=</span> <span class="st">"Second Year"</span>,</span>
<span>                                                 <span class="st">"3"</span> <span class="op">=</span> <span class="st">"Third Year"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Median RenStar Reading Growth"</span>,</span>
<span>       subtitle <span class="op">=</span> <span class="st">"Results grouped by schools launching in the same year"</span>,</span>
<span>       caption <span class="op">=</span> <span class="st">"+ represents median RenStar reading growth for that launching cohort"</span>,</span>
<span>       x <span class="op">=</span> <span class="st">"Launch Year"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Median RenStar Growth"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_x_discrete</span><span class="op">(</span>labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2017-2018"</span> <span class="op">=</span> <span class="st">"2017-18"</span>,</span>
<span>                              <span class="st">"2018-2019"</span> <span class="op">=</span> <span class="st">"2018-19"</span>,</span>
<span>                              <span class="st">"2019-2020"</span> <span class="op">=</span> <span class="st">"2019-20"</span>,</span>
<span>                              <span class="st">"2020-2021"</span> <span class="op">=</span> <span class="st">"2020-21"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<p>This code spaces out MedianGrowth if there are multiple schools with the same median growth, changes the transparency level to 0.2, and changes color wtih each school. The value of MedianGrowthLaunch is plotted with a “plus” shape at a larger size to emphasize the median growth for each school year.</p>
<div class="figure">
<img src="img/variation-in-graph-example.png" title="Example of a graph displaying variation in median RenStar growth" alt=""><p class="caption">This image shows a graph of median RenStar growth levels from launching schools in different school years and shows variation in those medians.</p>
</div>
</div>
</div>
</div>
<div id="inferential-statistics" class="section level2">
<h2>
<span class="header-section-number">9.3</span> Inferential statistics<a class="anchor" aria-label="anchor" href="#inferential-statistics"><i class="fas fa-link"></i></a>
</h2>
<p>If the goal of the project is to do <em>inference</em>, or drawing conclusions about the population from the data, then we should provide context about these conclusions, particularly around variability and likelihood.</p>
<div id="interval-estimates" class="section level3">
<h3>
<span class="header-section-number">9.3.1</span> Interval estimates<a class="anchor" aria-label="anchor" href="#interval-estimates"><i class="fas fa-link"></i></a>
</h3>
<p>Suppose we are providing an estimate, like forecasted student persistence rates. A single <em>point estimate</em> may give us our best target, but due to variability, we surely will not reach that exact forecast. Thus, we also provide a <em>confidence interval</em> (or a <em>Bayesian credible interval</em>) to give a lower and upper bound around our estimate. These bounds could be found by computing a margin of error around the point estimate, or could be determined by the bootstrapped quantiles.</p>
<p>It may be instructive for a general audience to interpret these bounds as a</p>
<ul>
<li>“worst case scenario” and</li>
<li>“best case scenario”</li>
</ul>
<p>and give a visual around these estimates. For reference, see the <a href="https://app.powerbi.com/links/OsCFNR7-a2?ctid=02f61eb0-8f78-48cf-beec-40296abdf806&amp;pbi_source=linkShare">Persistence Dashboard</a> (no longer actively updated).</p>
</div>
<div id="p-values-and-hypothesis-testing" class="section level3">
<h3>
<span class="header-section-number">9.3.2</span> p-values and hypothesis testing<a class="anchor" aria-label="anchor" href="#p-values-and-hypothesis-testing"><i class="fas fa-link"></i></a>
</h3>
<p>When deciding if a pattern or relationship even exists, we can choose a model and set of hypotheses to test. Given the type of explanatory and response variables in your model, you should choose an appropriately designed test <a href="https://guides.nyu.edu/quant/choose_test_1DV">(reference for common tests)</a>. Often, the test statistics and p-values are already given when using a package. Note the term “statistical significance” may carry a lot of weight with an audience, but it should be use with great caution. When using or explaining a p-value, first recall that</p>
<p><em>a p-value is the probability of obtaining a result as extreme or greater from repeated sampling under the proposed distribution of the null hypothesis</em></p>
<p>meaning that our probability operates under the assumption that <em>the proposed model (the null hypothesis) is correct</em>. (This means if we change the null hypothesis, then we could get an entirely different p-value with the same data). Thus, we should look carefully at how our choices in modeling and distribution affected the significance of the result. Furthermore, the choice of <em>level</em> (typically, <span class="math inline">\(\alpha = 0.05\)</span>) is arbitrary, so we cannot make certain conclusions, such as:</p>
<ul>
<li>If a result has a p-value of 0.06, and another has 0.04, then one result is not necessarily “more significant” than the other.</li>
<li>The p-value does not imply how large the effect size is.</li>
</ul>
<blockquote>
<p>Statistical significance does not necessarily represent practical significance.</p>
</blockquote>
<p><strong>When communicating your results, do not merely rely on a p-value.</strong> Supplement a p-value with other explanations of the effect in context, like an interval estimate, graphs, a margin of error, or transformed values.</p>
<p>For reference, see the American Statistical Association’s statement on p-values <a href="https://doi.org/10.1080/00031305.2016.1154108">(2016)</a>.</p>
</div>
</div>
<div id="modeling-and-predictive-statistics" class="section level2">
<h2>
<span class="header-section-number">9.4</span> Modeling and predictive statistics<a class="anchor" aria-label="anchor" href="#modeling-and-predictive-statistics"><i class="fas fa-link"></i></a>
</h2>
<p>A large chunk of our statistical work involves developing a model and making predictions about a new set of data. The methods we use range from the basic models, like a least-squares linear model, to non-parametric methods and machine learning, like random forests. The choice of model largely depends on the goal of the project.</p>
<div id="linear-modeling" class="section level3">
<h3>
<span class="header-section-number">9.4.1</span> Linear modeling<a class="anchor" aria-label="anchor" href="#linear-modeling"><i class="fas fa-link"></i></a>
</h3>
<p>To measure an association between two or more variables, we usually start with a simple linear regression, which essentially models a mean (quantitative) response value as a function of other explanatory variables. The mathematical model looks like this:</p>
<p><span class="math inline">\(\mu_i = \beta_0 + \beta_1 x_{1i} + \cdots \beta_n x_{ni} + \epsilon_i\)</span></p>
<p>Suppose we want to model the number of questions a student gets correct on their STAAR exam as a function of their semester exam questions correct and their course grade.</p>
<p><span class="math inline">\(\textrm{STAARCorrect}_i = \beta_0 + \beta_1\times\textrm{SemesterExamCorrect}_i + \beta_2\times\textrm{CourseGrade}_i + \epsilon_i\)</span></p>
<p>To estimate these coefficients and evaluate the fit, we can use the following workflow:</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># df_staar_scores has columns StudentNumber, STAARQuestionsCorrect, SemesterExamQuestionsCorrect, CourseGrade, SchoolName, Approaches, Meets, Masters</span></span>
<span><span class="co"># all columns are numeric except SchoolName; StudentNumber, STAARQuestionsCorrect, SemesterExamQuestionsCorrect, CourseGrade are integers; Approaches, Meets, Masters are 0 or 1</span></span>
<span></span>
<span><span class="co"># run the regression (a linear model)</span></span>
<span><span class="va">lm_staar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">STAARQuestionsCorrect</span> <span class="op">~</span> <span class="va">SemesterExamQuestionsCorrect</span> <span class="op">+</span> <span class="va">CourseGrade</span>,</span>
<span>               data <span class="op">=</span> <span class="va">df_staar_scores</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># view the coefficients, std errors, model error, t-statistics, p-values, R^2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">lm_staar</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># view residual plots, Q-Q plots, leverage plot (Cook's D)</span></span>
<span><span class="co"># par(mfrow = c(2, 2)) # use this if you want to view all 4 plots at once</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">lm_staar</span><span class="op">)</span></span></code></pre></div>
<p>We can describe the coefficients as an <em>additional</em> unit effect on the number of STAAR questions correct. For example, if the coefficient on <code>SemesterExamQuestionsCorrect</code> is 1.34, then we would say that as a student gets an additional correct answer on the semester exam, then on average, the predicted increase in STAAR questions correct is about 1.34.</p>
<p>If the model has been identified using a DAG, then we can interpret the coefficient of a direct path as the causal effect.</p>
</div>
<div id="generalized-linear-modeling" class="section level3">
<h3>
<span class="header-section-number">9.4.2</span> Generalized linear modeling<a class="anchor" aria-label="anchor" href="#generalized-linear-modeling"><i class="fas fa-link"></i></a>
</h3>
<p>When a transformed response is linear in the betas, then we use a generalized linear model (GLM). A common example of GLM is a logistic regression, where the response is binary, so we effectively predict the odds of an event happening relative to another event. The mathematical model looks like this:</p>
<p><span class="math inline">\(g(\mu_i) = \beta_0 + \beta_1 x_{1i} + \cdots + \beta_n x_{ni} + \epsilon_i\)</span></p>
<p>where</p>
<ul>
<li>
<span class="math inline">\(g(\cdot)\)</span> is a link function to the mean</li>
<li>
<span class="math inline">\(\mu\)</span> is the mean response</li>
</ul>
<p>Note that there are many <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/family">link functions</a>, so the choice of link and mean response will affect the interpretation of the model. Different implementations in R will provide differing pieces of information, so it is best to look up the <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/glm">documentation.</a> However, base R provides the <code><a href="https://rdrr.io/r/stats/glm.html">glm()</a></code> function, which gives options to choose a link.</p>
<p>Now suppose we are modeling the probability of a student passing the STAAR (probability of approaches <span class="math inline">\(P(\textrm{App}_i)\)</span>) as a function of their semester exam questions correct and course grade.</p>
<p><span class="math inline">\(\log{\frac{P(\textrm{App}_i)}{1 - P(\textrm{App}_i)}} = \beta_0 + \beta_1\times\textrm{SemesterExamCorrect}_i + \beta_2\times\textrm{CourseGrade}_i + \epsilon_i\)</span></p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># logistic regression to determine log odds of passing STAAR</span></span>
<span><span class="va">glm_staar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span><span class="va">Approaches</span> <span class="op">~</span> <span class="va">SemesterExamQuestions</span> <span class="op">+</span> <span class="va">CourseGrade</span>,</span>
<span>                 family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"logit"</span><span class="op">)</span>,</span>
<span>                 data <span class="op">=</span> <span class="va">df_staar_scores</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># view the coefficients, std errors, model error, z-scores, p-values, deviance</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">glm_staar</span><span class="op">)</span></span></code></pre></div>
<p>Here, we used a logistic regression, which models the <em>log odds</em> (which can be converted into a probability), by defining the <code>binomial</code> family with a <code>logit</code> link. If the coefficient on <code>SemesterExamQuestions</code> is 0.04, then as a student gets an additional question correct on the semester exam, then on average, the predicted odds of passing increases by about <span class="math inline">\(e^{0.04}\)</span>, or a probability of <span class="math inline">\(\frac{e^{0.04}}{1 + e^{0.04}}\)</span>. (Use the <code><a href="https://rdrr.io/r/base/Log.html">exp()</a></code> function for Euler’s constant, e.g. <span class="math inline">\(e^{0.04} =\)</span><code>exp(0.04)</code>).</p>
<p>If the response is multinomial (multiple categories), then it is suggested to use a <strong>multinomial logistic regression</strong>. If the categories are ordered, which are common in assessment data, TCP ratings, Likert scales, etc., the model may benefit from using ordered responses in an <strong>ordinal logistic regression</strong>, which improves the power.</p>
<p>For example, modeling an AP score (which only takes on ordered levels of 1 to 5) as a function of semester exam questions correct and the course grade could be:</p>
<p><span class="math inline">\(g(\textrm{APScore}_i) = \beta_0 + \beta_1\times\textrm{SemesterExamCorrect}_i + \beta_2\times\textrm{CourseGrade}_i + \epsilon_i\)</span></p>
<p>See <a href="https://cscu.cornell.edu/wp-content/uploads/91_ordlogistic.pdf">this reference</a> for implementations of ordinal logistic regression using various packages.</p>
</div>
<div id="machine-learning" class="section level3">
<h3>
<span class="header-section-number">9.4.3</span> Machine learning<a class="anchor" aria-label="anchor" href="#machine-learning"><i class="fas fa-link"></i></a>
</h3>
<p>If the goal moves beyond inference towards prediction (getting as accurate of a response as possible), then we can use machine (statistical) learning methods to model the data. These tools are particularly useful when we are modeling nonlinear trends and cannot assume a functional form.</p>
<p>Note that communicating results from these models may be beyond a general audience’s reach, so caution should be taken when describing a marginal effect of a variable.</p>
<p>The <a href="https://www.statlearning.com/">ISLR website</a> and <a href="https://emilhvitfeldt.github.io/ISLR-tidymodels-labs/index.html">tidymodels implementation</a> should be consulted for more details about these models.</p>
</div>
</div>
<div id="geospatial-methods-or-a-gentle-introduction-to-gis-in-r-with-simple-features" class="section level2">
<h2>
<span class="header-section-number">9.5</span> Geospatial Methods, or A Gentle Introduction to GIS in R with Simple Features<a class="anchor" aria-label="anchor" href="#geospatial-methods-or-a-gentle-introduction-to-gis-in-r-with-simple-features"><i class="fas fa-link"></i></a>
</h2>
<div id="what-is-a-simple-feature" class="section level3">
<h3>
<span class="header-section-number">9.5.1</span> What is a simple feature?<a class="anchor" aria-label="anchor" href="#what-is-a-simple-feature"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Simple Features</strong> is a set of ISO and Open Geospatial Consortium (OGC) standards that specify a common storage and access model of geographic feature made of mostly two-dimensional geometries (point, line, polygon, multi-point, multi-line, etc.) used by geographic information systems. Simple features underlie the most common commercial and open-source GIS platforms (e.g., ESRI ArcGIS, PostGIS, the GeoJSON standard).</p>
<p>A <strong>feature</strong> is a essentially a thing in the world. In the simple feature specification a feature ha <em>a geometry</em> describing where on Earth the feature is located, <strong>and they have attributes</strong>, which describe other properties, like names or metrics like population.</p>
<div id="how-are-simple-features-implemented-in-r" class="section level4">
<h4>
<span class="header-section-number">9.5.1.1</span> How are simple features implemented in R<a class="anchor" aria-label="anchor" href="#how-are-simple-features-implemented-in-r"><i class="fas fa-link"></i></a>
</h4>
<p>In a word, simply. A special feature in R is essentially a a row in <code>data.frame</code> with class <strong>sf</strong>. This <code>data.frame</code> will have the normal suspects—names of things, metrics you care about—in columns and then a special column named <strong>geometry</strong> or <strong>geom</strong>. This will typically be a list-column, meaning that instead of holding characters or a numbers, the contents are list and each list is collection of 2-d coordinates that describe how to plot or draw the geometry. The image below illustrates the structure of an <code>sf</code> <code>data.frame</code></p>
<div class="inline-figure"><img src="img/sf_layout.png" width="500"></div>
</div>
</div>
<div id="lets-look-at-taco-schools" class="section level3">
<h3>
<span class="header-section-number">9.5.2</span> Let’s look at TACO schools<a class="anchor" aria-label="anchor" href="#lets-look-at-taco-schools"><i class="fas fa-link"></i></a>
</h3>
<p>Let’s start by getting schools in Tarrant County. We can get these schools and their address from the data warehouse:</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="co">#library(tidyverse)</span></span>
<span><span class="co">#library(ideadata)</span></span>
<span></span>
<span><span class="co"># schools_conn &lt;- get_schools()</span></span>
<span></span>
<span><span class="co"># regions_conn &lt;- get_regions() %&gt;% </span></span>
<span><span class="co">#   filter(RegionDescription == "Tarrant County") %&gt;% </span></span>
<span><span class="co">#   select(RegionID)</span></span>
<span></span>
<span><span class="co"># taco_schools &lt;- schools_conn %&gt;% </span></span>
<span><span class="co">#   inner_join(regions_conn, by = "RegionID") %&gt;% </span></span>
<span><span class="co">#   select(SchoolShortName, SchoolStreet, SchoolCity, SchoolState, SchoolZipCode) %&gt;% </span></span>
<span><span class="co">#   distinct() %&gt;% </span></span>
<span><span class="co">#   collect() %&gt;% </span></span>
<span><span class="co">#   janitor::clean_names()  </span></span>
<span></span>
<span><span class="co">#taco_schools</span></span>
<span></span>
<span><span class="co">#save(taco_schools, file = "./taco_schools.Rda")</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="st">"./taco_schools.Rda"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">taco_schools</span></span>
<span><span class="co">#&gt; # A tibble: 4 × 5</span></span>
<span><span class="co">#&gt;   school_short_name school_street    schoo…¹ schoo…² schoo…³</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;             &lt;chr&gt;            &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Achieve           1900 Thomas Rd   Haltom… TX        76117</span></span>
<span><span class="co">#&gt; 2 Edgecliff         1640 Altamesa B… Fort W… TX        76134</span></span>
<span><span class="co">#&gt; 3 Rise              3000 S Cherry LN Fort W… TX        76116</span></span>
<span><span class="co">#&gt; 4 Southeast         2935 E Seminary… Fort W… TX        76119</span></span>
<span><span class="co">#&gt; # … with abbreviated variable names ¹​school_city,</span></span>
<span><span class="co">#&gt; #   ²​school_state, ³​school_zip_code</span></span></code></pre></div>
<div id="geocoding" class="section level4">
<h4>
<span class="header-section-number">9.5.2.1</span> Geocoding<a class="anchor" aria-label="anchor" href="#geocoding"><i class="fas fa-link"></i></a>
</h4>
<p>We’ve got schools and addresses! But that isn’t sufficient to plot these schools on a map and we certainly don’t have simple features data.frame.</p>
<p>The first stop is <strong>geocoding</strong> these addresses, which is simply getting their latitude and longitude. Doing so is very straightforward for with the <code>[tidygeocoder](https://jessecambon.github.io/tidygeocoder/)</code> which provides a great interface to a number of different geocoders (e.g. US Census, OpenStreetMaps, geocod.io, )</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://jessecambon.github.io/tidygeocoder/">tidygeocoder</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">taco_schools_geocoded</span> <span class="op">&lt;-</span> <span class="va">taco_schools</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu">tidygeocoder</span><span class="fu">::</span><span class="fu"><a href="https://jessecambon.github.io/tidygeocoder/reference/geocode.html">geocode</a></span><span class="op">(</span>street <span class="op">=</span> <span class="va">school_street</span>,</span>
<span>            city <span class="op">=</span> <span class="va">school_city</span>,</span>
<span>            state <span class="op">=</span> <span class="va">school_state</span>,</span>
<span>            postalcode <span class="op">=</span> <span class="va">school_zip_code</span>, </span>
<span>            method <span class="op">=</span> <span class="st">"osm"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Passing 4 addresses to the Nominatim single address geocoder</span></span>
<span><span class="co">#&gt; Query completed in: 4.3 seconds</span></span>
<span></span>
<span><span class="va">taco_schools_geocoded</span></span>
<span><span class="co">#&gt; # A tibble: 4 × 7</span></span>
<span><span class="co">#&gt;   school_short…¹ schoo…² schoo…³ schoo…⁴ schoo…⁵   lat  long</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Achieve        1900 T… Haltom… TX        76117  32.8 -97.3</span></span>
<span><span class="co">#&gt; 2 Edgecliff      1640 A… Fort W… TX        76134  32.6 -97.3</span></span>
<span><span class="co">#&gt; 3 Rise           3000 S… Fort W… TX        76116  32.7 -97.5</span></span>
<span><span class="co">#&gt; 4 Southeast      2935 E… Fort W… TX        76119  32.7 -97.3</span></span>
<span><span class="co">#&gt; # … with abbreviated variable names ¹​school_short_name,</span></span>
<span><span class="co">#&gt; #   ²​school_street, ³​school_city, ⁴​school_state,</span></span>
<span><span class="co">#&gt; #   ⁵​school_zip_code</span></span></code></pre></div>
<p>Brilliant! We’ve got <code>lat</code> and <code>long</code> variables for those addresses. Super Cool!</p>
<p>Let’s transform these now to a <code>sf</code> object:</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Linking to GEOS 3.10.2, GDAL 3.4.2, PROJ 8.2.1; sf_use_s2() is TRUE</span></span>
<span></span>
<span><span class="va">taco_schools_sf</span> <span class="op">&lt;-</span> <span class="va">taco_schools_geocoded</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  </span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span>coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"long"</span>, <span class="st">"lat"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">taco_schools_sf</span></span>
<span><span class="co">#&gt; Simple feature collection with 4 features and 5 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -97.45178 ymin: 32.64884 xmax: -97.26259 ymax: 32.79013</span></span>
<span><span class="co">#&gt; CRS:           NA</span></span>
<span><span class="co">#&gt; # A tibble: 4 × 6</span></span>
<span><span class="co">#&gt;   school_short_name school_street    schoo…¹ schoo…² schoo…³</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;             &lt;chr&gt;            &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Achieve           1900 Thomas Rd   Haltom… TX        76117</span></span>
<span><span class="co">#&gt; 2 Edgecliff         1640 Altamesa B… Fort W… TX        76134</span></span>
<span><span class="co">#&gt; 3 Rise              3000 S Cherry LN Fort W… TX        76116</span></span>
<span><span class="co">#&gt; 4 Southeast         2935 E Seminary… Fort W… TX        76119</span></span>
<span><span class="co">#&gt; # … with 1 more variable: geometry &lt;POINT&gt;, and abbreviated</span></span>
<span><span class="co">#&gt; #   variable names ¹​school_city, ²​school_state,</span></span>
<span><span class="co">#&gt; #   ³​school_zip_code</span></span></code></pre></div>
<p>Notice that the <code>lat</code> and <code>long</code> variables are replaced by the <code>geometry</code> column.</p>
<div id="coordinate-reference-system" class="section level5">
<h5>
<span class="header-section-number">9.5.2.1.1</span> Coordinate Reference System<a class="anchor" aria-label="anchor" href="#coordinate-reference-system"><i class="fas fa-link"></i></a>
</h5>
<p>Notice in the meta-data above that CRS is <code>NA</code>. CRS refers to the Coordinate Reference System, which is a framework for measuring locations precisely as coordinates. A CRS includes a coordinate system, a horizontal datum that binds the coordinates to a real space on the spheroid Earth with estimate of the Earth’s curvature and a set of control points, and finally projection that converts spherical coordinates to Cartesian coordinates.</p>
<p>You should always set this and the most common CRS in latitude and longitude is WGS84 (used by the GPS satellite navigation system) with the following CRS string <code>"+init=epsg:4326"</code> as a formal identifier, but also more simply by its name:</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="va">taco_schools_sf</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"WGS84"</span></span></code></pre></div>
</div>
</div>
<div id="plotting" class="section level4">
<h4>
<span class="header-section-number">9.5.2.2</span> Plotting<a class="anchor" aria-label="anchor" href="#plotting"><i class="fas fa-link"></i></a>
</h4>
<p>We now have enough information to draw a map!</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#renv::install("yutannihilation/ggsflabel")</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dkahle/ggmap">ggmap</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Google's Terms of Service: https://cloud.google.com/maps-platform/terms/.</span></span>
<span><span class="co">#&gt; Please cite ggmap if you use it! See citation("ggmap") for details.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'ggmap'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:tidygeocoder':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     geocode</span></span>
<span></span>
<span><span class="va">base_google_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/get_googlemap.html">get_googlemap</a></span><span class="op">(</span><span class="st">"76117"</span>, zoom <span class="op">=</span> <span class="fl">11</span><span class="op">)</span></span>
<span><span class="co">#&gt; Source : https://maps.googleapis.com/maps/api/staticmap?center=76117&amp;zoom=11&amp;size=640x640&amp;scale=2&amp;maptype=terrain&amp;key=xxx</span></span>
<span><span class="co">#&gt; Source : https://maps.googleapis.com/maps/api/geocode/json?address=76117&amp;key=xxx</span></span>
<span></span>
<span></span>
<span><span class="va">base_google_map</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/ggmap.html">ggmap</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">taco_schools_sf</span>, color <span class="op">=</span> <span class="st">"hotpink"</span>, inherit.aes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggsflabel</span><span class="fu">::</span><span class="fu"><a href="https://yutannihilation.github.io/ggsflabel/reference/geom_sf_label.html">geom_sf_label_repel</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">taco_schools_sf</span>,</span>
<span>               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">school_short_name</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"hotpink"</span>,</span>
<span>               inherit.aes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> </span>
<span><span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span></span>
<span><span class="co">#&gt; Warning in st_point_on_surface.sfc(data$geometry):</span></span>
<span><span class="co">#&gt; st_point_on_surface may not give correct results for</span></span>
<span><span class="co">#&gt; longitude/latitude data</span></span></code></pre></div>
<div class="inline-figure"><img src="r-and-a-manual_files/figure-html/ggmap-1.png" width="672"></div>
<p>I dont’ always love Google Maps look for display purposes on slides, so let’s change that up with Stamen Maps:</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Need a bounding box for the get_stamenmap function</span></span>
<span><span class="va">bbox</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/bb2bbox.html">bb2bbox</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">base_google_map</span>, <span class="st">"bb"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">base_stamen_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/get_stamenmap.html">get_stamenmap</a></span><span class="op">(</span><span class="va">bbox</span>, zoom<span class="op">=</span><span class="fl">11</span>, maptype <span class="op">=</span> <span class="st">"toner-lite"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Source : http://tile.stamen.com/toner-lite/11/469/824.png</span></span>
<span><span class="co">#&gt; Source : http://tile.stamen.com/toner-lite/11/470/824.png</span></span>
<span><span class="co">#&gt; Source : http://tile.stamen.com/toner-lite/11/471/824.png</span></span>
<span><span class="co">#&gt; Source : http://tile.stamen.com/toner-lite/11/469/825.png</span></span>
<span><span class="co">#&gt; Source : http://tile.stamen.com/toner-lite/11/470/825.png</span></span>
<span><span class="co">#&gt; Source : http://tile.stamen.com/toner-lite/11/471/825.png</span></span>
<span><span class="co">#&gt; Source : http://tile.stamen.com/toner-lite/11/469/826.png</span></span>
<span><span class="co">#&gt; Source : http://tile.stamen.com/toner-lite/11/470/826.png</span></span>
<span><span class="co">#&gt; Source : http://tile.stamen.com/toner-lite/11/471/826.png</span></span>
<span><span class="co">#&gt; Source : http://tile.stamen.com/toner-lite/11/469/827.png</span></span>
<span><span class="co">#&gt; Source : http://tile.stamen.com/toner-lite/11/470/827.png</span></span>
<span><span class="co">#&gt; Source : http://tile.stamen.com/toner-lite/11/471/827.png</span></span>
<span></span>
<span><span class="va">base_stamen_map</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/ggmap.html">ggmap</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">taco_schools_sf</span>, color <span class="op">=</span> <span class="st">"hotpink"</span>, inherit.aes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggsflabel</span><span class="fu">::</span><span class="fu"><a href="https://yutannihilation.github.io/ggsflabel/reference/geom_sf_label.html">geom_sf_label_repel</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">taco_schools_sf</span>,</span>
<span>               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">school_short_name</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"hotpink"</span>,</span>
<span>               inherit.aes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> </span>
<span><span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span></span>
<span><span class="co">#&gt; Warning in st_point_on_surface.sfc(data$geometry):</span></span>
<span><span class="co">#&gt; st_point_on_surface may not give correct results for</span></span>
<span><span class="co">#&gt; longitude/latitude data</span></span></code></pre></div>
<div class="inline-figure"><img src="r-and-a-manual_files/figure-html/unnamed-chunk-25-1.png" width="672"></div>
</div>
<div id="getting-drive-times" class="section level4">
<h4>
<span class="header-section-number">9.5.2.3</span> Getting drive times<a class="anchor" aria-label="anchor" href="#getting-drive-times"><i class="fas fa-link"></i></a>
</h4>
<p>This requires the MapBox API, which requries an API key.</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages("mapboxapi")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">mapboxapi</span><span class="op">)</span></span>
<span><span class="co">#&gt; Usage of the Mapbox APIs is governed by the Mapbox Terms of Service.</span></span>
<span><span class="co">#&gt; Please visit https://www.mapbox.com/legal/tos/ for more information.</span></span>
<span></span>
<span><span class="va">drive_10min</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mapboxapi/man/mb_isochrone.html">mb_isochrone</a></span><span class="op">(</span><span class="va">taco_schools_sf</span>, </span>
<span>                            profile <span class="op">=</span> <span class="st">"driving"</span>, </span>
<span>                            time <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">schools_drive_10min_sf</span> <span class="op">&lt;-</span><span class="va">drive_10min</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_cols</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="va">taco_schools_sf</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">geometry</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">base_stamen_map</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/ggmap.html">ggmap</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">schools_drive_10min_sf</span>, </span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">school_short_name</span>,</span>
<span>              fill <span class="op">=</span> <span class="va">school_short_name</span><span class="op">)</span>,</span>
<span>          alpha <span class="op">=</span> <span class="fl">.2</span>,</span>
<span>              inherit.aes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">taco_schools_sf</span>, </span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">school_short_name</span><span class="op">)</span>, </span>
<span>              inherit.aes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  </span>
<span>  <span class="fu">ggsflabel</span><span class="fu">::</span><span class="fu"><a href="https://yutannihilation.github.io/ggsflabel/reference/geom_sf_label.html">geom_sf_label_repel</a></span><span class="op">(</span></span>
<span>        data <span class="op">=</span> <span class="va">taco_schools_sf</span>,</span>
<span>               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">school_short_name</span>, color <span class="op">=</span> <span class="va">school_short_name</span><span class="op">)</span>,</span>
<span>               inherit.aes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html">guides</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"none"</span>, color <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span></span>
<span><span class="co">#&gt; Warning in st_point_on_surface.sfc(data$geometry):</span></span>
<span><span class="co">#&gt; st_point_on_surface may not give correct results for</span></span>
<span><span class="co">#&gt; longitude/latitude data</span></span>
<span></span>
<span><span class="co">#&gt; Warning in st_point_on_surface.sfc(data$geometry):</span></span>
<span><span class="co">#&gt; st_point_on_surface may not give correct results for</span></span>
<span><span class="co">#&gt; longitude/latitude data</span></span>
<span></span>
<span><span class="co">#&gt; Warning in st_point_on_surface.sfc(data$geometry):</span></span>
<span><span class="co">#&gt; st_point_on_surface may not give correct results for</span></span>
<span><span class="co">#&gt; longitude/latitude data</span></span>
<span></span>
<span><span class="co">#&gt; Warning in st_point_on_surface.sfc(data$geometry):</span></span>
<span><span class="co">#&gt; st_point_on_surface may not give correct results for</span></span>
<span><span class="co">#&gt; longitude/latitude data</span></span></code></pre></div>
<div class="inline-figure"><img src="r-and-a-manual_files/figure-html/unnamed-chunk-26-1.png" width="672"></div>
</div>
<div id="some-geographic-filtering" class="section level4">
<h4>
<span class="header-section-number">9.5.2.4</span> Some geographic filtering<a class="anchor" aria-label="anchor" href="#some-geographic-filtering"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/s2.html">sf_use_s2</a></span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Spherical geometry (s2) switched off</span></span>
<span><span class="va">taco_area_of_max_intersection</span> <span class="op">&lt;-</span> <span class="va">schools_drive_10min_sf</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">school_short_name</span> <span class="op">==</span> <span class="st">"Edgecliff"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_binary_ops.html">st_intersection</a></span><span class="op">(</span><span class="va">schools_drive_10min_sf</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">school_short_name</span> <span class="op">==</span> <span class="st">"Southeast"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; although coordinates are longitude/latitude, st_intersection assumes that they are planar</span></span>
<span><span class="co">#&gt; Warning: attribute variables are assumed to be spatially</span></span>
<span><span class="co">#&gt; constant throughout all geometries</span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">base_stamen_map</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/ggmap.html">ggmap</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">taco_area_of_max_intersection</span>, </span>
<span>          color <span class="op">=</span> <span class="st">"goldenrod"</span>,</span>
<span>          fill <span class="op">=</span> <span class="st">"goldenrod"</span>,</span>
<span>          alpha <span class="op">=</span> <span class="fl">.2</span>,</span>
<span>              inherit.aes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">taco_schools_sf</span>, </span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">school_short_name</span><span class="op">)</span>, </span>
<span>              inherit.aes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  </span>
<span>  <span class="fu">ggsflabel</span><span class="fu">::</span><span class="fu"><a href="https://yutannihilation.github.io/ggsflabel/reference/geom_sf_label.html">geom_sf_label_repel</a></span><span class="op">(</span></span>
<span>        data <span class="op">=</span> <span class="va">taco_schools_sf</span>,</span>
<span>               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">school_short_name</span>, color <span class="op">=</span> <span class="va">school_short_name</span><span class="op">)</span>,</span>
<span>               inherit.aes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html">guides</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"none"</span>, color <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span></span>
<span><span class="co">#&gt; Warning in st_point_on_surface.sfc(data$geometry):</span></span>
<span><span class="co">#&gt; st_point_on_surface may not give correct results for</span></span>
<span><span class="co">#&gt; longitude/latitude data</span></span>
<span><span class="co">#&gt; Warning in st_point_on_surface.sfc(data$geometry):</span></span>
<span><span class="co">#&gt; st_point_on_surface may not give correct results for</span></span>
<span><span class="co">#&gt; longitude/latitude data</span></span>
<span></span>
<span><span class="co">#&gt; Warning in st_point_on_surface.sfc(data$geometry):</span></span>
<span><span class="co">#&gt; st_point_on_surface may not give correct results for</span></span>
<span><span class="co">#&gt; longitude/latitude data</span></span>
<span></span>
<span><span class="co">#&gt; Warning in st_point_on_surface.sfc(data$geometry):</span></span>
<span><span class="co">#&gt; st_point_on_surface may not give correct results for</span></span>
<span><span class="co">#&gt; longitude/latitude data</span></span></code></pre></div>
<div class="inline-figure"><img src="r-and-a-manual_files/figure-html/geo-filtering-1.png" width="672"></div>
<p>And what schools are found in this area?</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">schools_in_overlap</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_join.html">st_filter</a></span><span class="op">(</span><span class="va">taco_schools_sf</span>,</span>
<span>                         <span class="va">taco_area_of_max_intersection</span>, </span>
<span>                         join <span class="op">=</span> <span class="va">st_within</span><span class="op">)</span></span>
<span><span class="co">#&gt; although coordinates are longitude/latitude, st_intersects assumes that they are planar</span></span>
<span><span class="co">#&gt; although coordinates are longitude/latitude, st_intersects assumes that they are planar</span></span>
<span></span>
<span><span class="va">schools_in_overlap</span></span>
<span><span class="co">#&gt; Simple feature collection with 2 features and 5 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -97.33514 ymin: 32.64884 xmax: -97.28824 ymax: 32.68475</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span><span class="co">#&gt;   school_short_name school_street    schoo…¹ schoo…² schoo…³</span></span>
<span><span class="co">#&gt; * &lt;chr&gt;             &lt;chr&gt;            &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Edgecliff         1640 Altamesa B… Fort W… TX        76134</span></span>
<span><span class="co">#&gt; 2 Southeast         2935 E Seminary… Fort W… TX        76119</span></span>
<span><span class="co">#&gt; # … with 1 more variable: geometry &lt;POINT [°]&gt;, and</span></span>
<span><span class="co">#&gt; #   abbreviated variable names ¹​school_city, ²​school_state,</span></span>
<span><span class="co">#&gt; #   ³​school_zip_code</span></span></code></pre></div>
<p>It may look like Edgecliff is within the 10-minute drive time overlap area, but in truth it is just outside of the boundary.</p>
</div>
</div>
<div id="census-data" class="section level3">
<h3>
<span class="header-section-number">9.5.3</span> Census Data<a class="anchor" aria-label="anchor" href="#census-data"><i class="fas fa-link"></i></a>
</h3>
<p>Kyle Walker has written the exceptional <code>[tidycensus](https://walker-data.com/tidycensus/)</code>package, which fantastic documentation, that allows you to pull US Census data sources (including the Decennial Census and the yearly American Community Survey).</p>
<p>Let’s load it up:</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages('tidycensus')</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://walker-data.com/tidycensus/">tidycensus</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># NEt command saves Census API key to your .Renviron file</span></span>
<span><span class="co">#census_api_key("YOUR API KEY GOES HERE")</span></span>
<span><span class="co">#census_api_key(Sys.getenv("CENSUS_API_KEY"))</span></span></code></pre></div>
<div id="getting-basic-data" class="section level6">
<h6>
<span class="header-section-number">9.5.3.0.0.1</span> Getting Basic Data<a class="anchor" aria-label="anchor" href="#getting-basic-data"><i class="fas fa-link"></i></a>
</h6>
<p>There are two major functions implemented in tidycensus:</p>
<ul>
<li>
<code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>, which grants access to the 2000, 2010, and 2020 decennial US Census APIs, and</li>
<li>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, which grants access to the 1-year and 5-year American Community Survey APIs.</li>
</ul>
<p>Let’s get <em>median age by state</em> in 2010:</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">age10</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial</a></span><span class="op">(</span>geography <span class="op">=</span> <span class="st">"state"</span>, </span>
<span>                       variables <span class="op">=</span> <span class="st">"P013001"</span>, </span>
<span>                       year <span class="op">=</span> <span class="fl">2010</span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting data from the 2010 decennial Census</span></span>
<span><span class="co">#&gt; Using Census Summary File 1</span></span>
<span></span>
<span><span class="va">age10</span></span>
<span><span class="co">#&gt; # A tibble: 52 × 4</span></span>
<span><span class="co">#&gt;    GEOID NAME        variable value</span></span>
<span><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 01    Alabama     P013001   37.9</span></span>
<span><span class="co">#&gt;  2 02    Alaska      P013001   33.8</span></span>
<span><span class="co">#&gt;  3 04    Arizona     P013001   35.9</span></span>
<span><span class="co">#&gt;  4 05    Arkansas    P013001   37.4</span></span>
<span><span class="co">#&gt;  5 06    California  P013001   35.2</span></span>
<span><span class="co">#&gt;  6 22    Louisiana   P013001   35.8</span></span>
<span><span class="co">#&gt;  7 21    Kentucky    P013001   38.1</span></span>
<span><span class="co">#&gt;  8 08    Colorado    P013001   36.1</span></span>
<span><span class="co">#&gt;  9 09    Connecticut P013001   40  </span></span>
<span><span class="co">#&gt; 10 10    Delaware    P013001   38.8</span></span>
<span><span class="co">#&gt; # … with 42 more rows</span></span></code></pre></div>
<p>Plotting is super duper easy:</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">age10</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">value</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">NAME</span>, <span class="va">value</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="r-and-a-manual_files/figure-html/unnamed-chunk-29-1.png" width="672"></div>
</div>
<div id="searching-for-variables" class="section level6">
<h6>
<span class="header-section-number">9.5.3.0.0.2</span> Searching for variables:<a class="anchor" aria-label="anchor" href="#searching-for-variables"><i class="fas fa-link"></i></a>
</h6>
<p>How, pray tell, does one know that <code>P013001</code> is the variable for median age? Getting variables from the Census or ACS requires knowing the variable ID - and there are thousands of these IDs across the different Census files. To rapidly search for variables, use the <code><a href="https://walker-data.com/tidycensus/reference/load_variables.html">load_variables()</a></code> function. There are <a href="https://walker-data.com/tidycensus/articles/basic-usage.html#searching-for-variables">more details on in the package’s documentation page</a>.</p>
<p>To browse these variables, assign the result of <code><a href="https://walker-data.com/tidycensus/reference/load_variables.html">load_variables()</a></code> to a variable and use the <code><a href="https://rdrr.io/r/utils/View.html">View()</a></code> function in RStudio. An optional argument <code>cache = TRUE</code> will cache the dataset on your computer for future use.</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="va">v_2020</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/load_variables.html">load_variables</a></span><span class="op">(</span><span class="fl">2020</span>, <span class="st">"acs5"</span>, cache <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#View(v_2020)</span></span></code></pre></div>
<p>Let’s get Tarrant county:</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="va">tarr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs</a></span><span class="op">(</span>geography <span class="op">=</span> <span class="st">"block group"</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span> <span class="co">#tpotal pop</span></span>
<span>                                                    <span class="st">"B01001_001"</span>, </span>
<span>                                                   </span>
<span>                                                    <span class="co">#male</span></span>
<span>                                                   <span class="st">"B01001_004"</span>, <span class="co">#5-9</span></span>
<span>                                                   <span class="st">"B01001_005"</span>, <span class="co">#10-14</span></span>
<span>                                                   <span class="st">"B01001_006"</span>, <span class="co">#15-17</span></span>
<span>                                                    </span>
<span>                                                   <span class="co">#Femaile</span></span>
<span>                                                   <span class="st">"B01001_028"</span>, <span class="co">#5-9</span></span>
<span>                                                   <span class="st">"B01001_029"</span>, <span class="co">#10-14</span></span>
<span>                                                   <span class="st">"B01001_030"</span><span class="op">)</span>,<span class="co">#15-17</span></span>
<span>                state <span class="op">=</span> <span class="st">"TX"</span>, county <span class="op">=</span> <span class="st">"Tarrant"</span>, geometry <span class="op">=</span> <span class="cn">TRUE</span>, year <span class="op">=</span> <span class="fl">2020</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tarr</span></span></code></pre></div>
</div>
</div>
<div id="chloropleth" class="section level3">
<h3>
<span class="header-section-number">9.5.4</span> Chloropleth<a class="anchor" aria-label="anchor" href="#chloropleth"><i class="fas fa-link"></i></a>
</h3>
<p>Now we are summing up all school aged children (5-17 year old boy and girls):</p>
<div class="inline-figure"><img src="r-and-a-manual_files/figure-html/unnamed-chunk-31-1.png" width="672"></div>
</div>
<div id="dot-density" class="section level3">
<h3>
<span class="header-section-number">9.5.5</span> Dot-density<a class="anchor" aria-label="anchor" href="#dot-density"><i class="fas fa-link"></i></a>
</h3>
<p>Areal representation of data suffer from a few problems. One problem is that geographically large areas draw the eye and can often over-emphasis those area versus smaller geographies. This distortion is familiar to those that follow elections, where geographically large states with small populations Wyoming loom larger then geographically small, but densely populated states like Delaware (Wyoming has 1/2 the population of Delaware, but 42x the land mass). This distortion occurs with Census geographies because blocks, block groups, and tracts are created to have roughly equal population (e.g., Census tracts generally have a population size between 1,200 and 8,000 people, with an optimum size of 4,000 people); these geographies are consequently larger in rural places than in urban centers.</p>
<p>A second issue is that it’s very hard to show heterogenaity in spatial distribtions. The plot above shows estimats of the count of all Children 5-17 years old in each tract. But we may be interested in how differenty distributed those students are.</p>
<p>A method to remedy both issues is to use <strong>dot-density</strong> plots which simply plot a sample of points wihtin each geography for each group (often down sampled where each dot represents some number of people (e.g., 20 or 100 persons per dot)). It’s pretty straightforward to get what you need by using <a href="https://walker-data.com/tidycensus/reference/as_dot_density.html"><code>sf::as_dot_density()</code></a></p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">acs_ages</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span> <span class="va">variable</span>,     <span class="op">~</span><span class="va">age_range</span>, <span class="op">~</span><span class="va">gender</span>,</span>
<span>  <span class="st">"B01001_001"</span>,    <span class="st">"All"</span>,      <span class="st">"All"</span>,  </span>
<span>                                                   </span>
<span>    <span class="co">#male</span></span>
<span>   <span class="st">"B01001_004"</span>, <span class="st">"5-9"</span>,   <span class="st">"Male"</span>,</span>
<span>   <span class="st">"B01001_005"</span>, <span class="st">"10-14"</span>, <span class="st">"Male"</span>,</span>
<span>   <span class="st">"B01001_006"</span>, <span class="st">"15-17"</span>, <span class="st">"Male"</span>,</span>
<span>    </span>
<span>   <span class="co">#Femaile</span></span>
<span>   <span class="st">"B01001_028"</span>, <span class="st">"5-9"</span>,    <span class="st">"female"</span>,</span>
<span>   <span class="st">"B01001_029"</span>, <span class="st">"10-14"</span>, <span class="st">"female"</span>,</span>
<span>   <span class="st">"B01001_030"</span>, <span class="st">"15-17"</span>, <span class="st">"female"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">tarr_childs</span> <span class="op">&lt;-</span> <span class="va">tarr</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span><span class="va">acs_ages</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">gender</span> <span class="op">!=</span> <span class="st">"All"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">variable</span>, <span class="op">-</span><span class="va">moe</span>, <span class="op">-</span><span class="va">gender</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">GEOID</span>, <span class="va">NAME</span>, <span class="va">age_range</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>n_children <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">estimate</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining, by = "variable"</span></span>
<span></span>
<span></span>
<span><span class="va">tarr_dots</span> <span class="op">&lt;-</span> <span class="va">tarr_childs</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://walker-data.com/tidycensus/reference/as_dot_density.html">as_dot_density</a></span><span class="op">(</span></span>
<span>    value <span class="op">=</span> <span class="st">"n_children"</span>,</span>
<span>    values_per_dot <span class="op">=</span> <span class="fl">20</span>,</span>
<span>    group <span class="op">=</span> <span class="st">"age_range"</span></span>
<span>  <span class="op">)</span> </span>
<span><span class="co">#&gt; although coordinates are longitude/latitude, st_intersects assumes that they are planar</span></span>
<span><span class="co">#&gt; although coordinates are longitude/latitude, st_intersects assumes that they are planar</span></span></code></pre></div>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">base_stamen_map</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/ggmap.html">ggmap</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">tarr_dots</span>, </span>
<span>         <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">age_range</span><span class="op">)</span>, </span>
<span>         inherit.aes <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>         alpha  <span class="op">=</span> <span class="fl">.25</span>,</span>
<span>         size<span class="op">=</span><span class="fl">.25</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">taco_area_of_max_intersection</span>, </span>
<span>          color <span class="op">=</span> <span class="st">"goldenrod"</span>,</span>
<span>          fill <span class="op">=</span> <span class="st">"goldenrod"</span>,</span>
<span>          alpha <span class="op">=</span> <span class="fl">.2</span>,</span>
<span>              inherit.aes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">taco_schools_sf</span>, </span>
<span>              inherit.aes <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>          color <span class="op">=</span> <span class="st">"green"</span>, </span>
<span>          size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  </span>
<span>  <span class="fu">scale_color_viridis</span><span class="op">(</span>option <span class="op">=</span> <span class="st">"viridis"</span>, discrete <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span></span></code></pre></div>
<div class="inline-figure"><img src="r-and-a-manual_files/figure-html/dot_density_map-1.png" width="672"></div>
</div>
</div>
<div id="qualitative-tools" class="section level2">
<h2>
<span class="header-section-number">9.6</span> Qualitative Tools<a class="anchor" aria-label="anchor" href="#qualitative-tools"><i class="fas fa-link"></i></a>
</h2>
<div id="maxqda" class="section level3">
<h3>
<span class="header-section-number">9.6.1</span> MaxQDA<a class="anchor" aria-label="anchor" href="#maxqda"><i class="fas fa-link"></i></a>
</h3>
<p>The R&amp;A team engages in qualitative analyses using several approaches (i.e., Natural Language Processing, thematic analysis) and tools. Qualitative analysis provides rich contextual information to research projects at IDEA Public Schools.</p>
<p>One tool used for thematic analyses is <a href="www.maxqda.com">MaxQDA</a>, which is a software program that is used to assist in analysis of qualitative and mixed-methods data.</p>
<p>Data that can be imported are:
* survey data,
* interview and focus group data, and
* media (texts, images, audio, and video) files.</p>
<p>MaxQDA is mainly used by the R&amp;A Evaluation team. Qualitative analyses that have used MaxQDA include:
* GPTW Annual OER Survey Analysis
* CNP May Survey Analysis
* EVP Analysis (Interviews, Focus Groups, Staff Survey)
* GPTW Pulse Check OER Survey Analysis
* Core Values 2x2 Analysis</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="visualization-standards.html"><span class="header-section-number">8</span> Visualization Standards</a></div>
<div class="next"><a href="tips-and-tricks.html"><span class="header-section-number">10</span> Tips and Tricks</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#models-and-methods"><span class="header-section-number">9</span> Models and Methods</a></li>
<li>
<a class="nav-link" href="#research-design"><span class="header-section-number">9.1</span> Research design</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#causal-inference"><span class="header-section-number">9.1.1</span> Causal inference</a></li>
<li><a class="nav-link" href="#experimental-design"><span class="header-section-number">9.1.2</span> Experimental design</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#descriptive-statistics"><span class="header-section-number">9.2</span> Descriptive statistics</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#numerical-summaries---broad-principles"><span class="header-section-number">9.2.1</span> Numerical summaries - broad principles</a></li>
<li><a class="nav-link" href="#graphical-summaries---broad-principles"><span class="header-section-number">9.2.2</span> Graphical summaries - broad principles</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#inferential-statistics"><span class="header-section-number">9.3</span> Inferential statistics</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#interval-estimates"><span class="header-section-number">9.3.1</span> Interval estimates</a></li>
<li><a class="nav-link" href="#p-values-and-hypothesis-testing"><span class="header-section-number">9.3.2</span> p-values and hypothesis testing</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#modeling-and-predictive-statistics"><span class="header-section-number">9.4</span> Modeling and predictive statistics</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#linear-modeling"><span class="header-section-number">9.4.1</span> Linear modeling</a></li>
<li><a class="nav-link" href="#generalized-linear-modeling"><span class="header-section-number">9.4.2</span> Generalized linear modeling</a></li>
<li><a class="nav-link" href="#machine-learning"><span class="header-section-number">9.4.3</span> Machine learning</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#geospatial-methods-or-a-gentle-introduction-to-gis-in-r-with-simple-features"><span class="header-section-number">9.5</span> Geospatial Methods, or A Gentle Introduction to GIS in R with Simple Features</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#what-is-a-simple-feature"><span class="header-section-number">9.5.1</span> What is a simple feature?</a></li>
<li><a class="nav-link" href="#lets-look-at-taco-schools"><span class="header-section-number">9.5.2</span> Let’s look at TACO schools</a></li>
<li><a class="nav-link" href="#census-data"><span class="header-section-number">9.5.3</span> Census Data</a></li>
<li><a class="nav-link" href="#chloropleth"><span class="header-section-number">9.5.4</span> Chloropleth</a></li>
<li><a class="nav-link" href="#dot-density"><span class="header-section-number">9.5.5</span> Dot-density</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#qualitative-tools"><span class="header-section-number">9.6</span> Qualitative Tools</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#maxqda"><span class="header-section-number">9.6.1</span> MaxQDA</a></li></ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/idea-analytics/r_and_a_manual/blob/master/08-Models-and-Methods.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/idea-analytics/r_and_a_manual/edit/master/08-Models-and-Methods.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>IDEA R&amp;A Manual</strong>" was written by Chris Haid, Edison Coronado, Mishan Jensen, Maura Carter, Steven Macapagal, Aline Orr, Ilissa Madrigal, Marlena Coco. It was last built on 2022-10-27.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
